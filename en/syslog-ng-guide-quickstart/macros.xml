<!DOCTYPE article
[
<!ENTITY % entities SYSTEM "../shared/syslog-ng-entities.ent">
  %entities;
  ]
 >
<procedure xml:id="macros" xmlns="http://docbook.org/ns/docbook">
    <title>Macros in file names</title>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="chunk/step-macros-filenames.xml"/>
    <formalpara>
        <title>Steps:</title>
        <para/>
    </formalpara>
    <step>
        <para>Open the C:\Program Files\syslog-ng\etc\syslog-ng.conf configuration file for editing</para>
    </step>
    <step>
        <para>Locate the block starting with<computeroutput>destination d_nettofile</computeroutput></para>
    </step>
    <step>
        <para>Modify it to look like the following line:</para>
        <synopsis>destination d_nettofile {
	file('C:\tmp\tcp_to_file_example.txt' flags(no-multi-line));
	file('C:\tmp\$YEAR\$WEEK\$HOST-messages' flags(no-multi-line) create-dirs(yes));
};</synopsis>
        <para>For more details on macros available in syslog-ng, refer to <olink targetdoc="syslog-ng-pe-guide-admin"/>.</para>
    </step>
    <step>
        <para>Save the file and restart syslog-ng</para>
        <note>
            <para>Collecting to <filename>C:\tmp\tcp_to_file_example.txt</filename> is left there for your convenience, it can be safely removed. If the related configuration item is removed, the file stays in the folder, but will not be updated.</para>
        </note>
    </step>
</procedure>
