<!DOCTYPE topic
[
<!ENTITY % entities SYSTEM "../shared/syslog-ng-entities.ent">
%entities;
]>
<procedure xml:id="proc-conf-macros" xmlns="http://docbook.org/ns/docbook">
    <title>Macros in filenames</title>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="chunk/step-macros-filenames.xml"/>
    <formalpara>
        <title>Steps:</title>
        <para/>
    </formalpara>
    <step>
        <para>Open the <filename>/opt/syslog-ng/etc/syslog-ng.conf</filename> configuration file in a text editor.</para>
    </step>
    <step>
        <para>Locate the line starting with <command>destination d_messages</command>.</para>
    </step>
    <step>
        <para>Modify it to look like the following line:</para>
        <synopsis>destination d_messages {
    file("/var/log/messages");
    file("/var/log/$YEAR/$WEEK/$HOST-messages" create-dirs(yes));
};</synopsis>
    </step>
    <step>
        <para>Save the file and restart syslog-ng</para>
        <note>
            <para>Collecting to <filename>/var/log/messages</filename> is left there for your convenience, it can be safely removed. Even if the related configuration item is removed, the file stays there, but it is not updated anymore.</para>
        </note>
        <para>For more details on macros available in syslog-ng, refer to <olink targetdoc="syslog-ng-pe-guide-admin"/>.</para>
    </step>
</procedure>
