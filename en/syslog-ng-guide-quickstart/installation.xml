<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[  <!ENTITY % entities SYSTEM "../shared/syslog-ng-entities.ent">
  %entities;]>
<section xmlns="http://docbook.org/ns/docbook" xml:id="installation">
    <title>Installation</title>
    <procedure>
        <title>Downloading the Linux installer (server and client)</title>
        <formalpara>
            <title>Purpose:</title>
            <para/>
        </formalpara>
        <para>To obtain the &product; installer from MyBalabit, complete the following steps:</para>
        <formalpara>
            <title>Prerequisites:</title>
            <para/>
        </formalpara>
        <para>The installers are available at the &downloads;. In addition to the installers, a <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="https://my.balabit.com/">valid license</link> is required to install the &abbrev; server. Contact your sales representative for access and license files.</para>
        <formalpara>
            <title>Steps:</title>
            <para/>
        </formalpara>
        <step>
            <para>Navigate to <guimenu>DOWNLOAD > SYSLOG-NG PREMIUM EDITION</guimenu>.</para>
        </step>
        <step>
            <para>Choose the latest available version (6.0.3 is used as an example):</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis>Release:</emphasis> 6 LTS</para>
                </listitem>
                <listitem>
                    <para><emphasis>Component:</emphasis> syslog-ng Premium Edition</para>
                </listitem>
                <listitem>
                    <para><emphasis>Revision:</emphasis> 6.0.3</para>
                </listitem>
                <listitem>
                    <para><emphasis>Platform:</emphasis> Linux glibc2.3.6</para>
                </listitem>
            </itemizedlist>
        </step>
        <step>
            <para>Click <guimenu>linux glibc2.3.6 amd64</guimenu> to download <filename>syslog-ng-premium-edition-6.0.3-linux-glibc2.3.6-amd64.run</filename>.</para>
            <para>The binaries include all required libraries and dependencies of syslog-ng. These components are installed in the <filename>/opt/syslog-ng</filename> directory.</para>
            <para>The installer can reuse existing configuration and license files, and also generate a simple configuration during the installation process. The syslog-ng.conf file is generated into the <filename>/opt/syslog-ng/etc/</filename> directory during the installatino process. If you want to reuse an existing syslog-ng.conf configuration file, the installer will search for it under this directory as well.</para>
            <note>
                <para>Existing syslog implementations on Linux systems are replaced during installation.</para>
            </note>
        </step>
    </procedure>
    <procedure>
        <title>Downloading the Windows installer (client only)</title>
        <formalpara>
            <title>Purpose:</title>
            <para/>
        </formalpara>
        <para>To obtain the &agent; installer from MyBalabit, complete the following steps:</para>
        <formalpara>
            <title>Prerequisites:</title>
            <para/>
        </formalpara>
        <para>The installers are available via &mybalabit;. In addition to the installers, a <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="https://my.balabit.com/">valid license</link> is required to install the &abbrev; server. Contact your sales representative for access and license files.</para>
        <formalpara>
            <title>Steps:</title>
            <para/>
        </formalpara>
        <step>
            <para>Navigate to <guimenu>DOWNLOAD > SYSLOG-NG PREMIUM EDITION</guimenu>.</para>
        </step>
        <step>
            <para>Choose the latest available version (6.0.3 is used as an example):</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis>Release:</emphasis> 6 LTS</para>
                </listitem>
                <listitem>
                    <para><emphasis>Component:</emphasis> syslog-ng Agent for Windows</para>
                </listitem>
                <listitem>
                    <para><emphasis>Revision:</emphasis> 6.0.3</para>
                </listitem>
                <listitem>
                    <para><emphasis>Platform:</emphasis> Windows 2012</para>
                </listitem>
            </itemizedlist>
        </step>
        <step>
            <para>Select <guimenu>syslog-ng Agent with MMC snapin (setup) 64/32bit</guimenu></para>
        </step>
        <step>
            <para>Download <filename>syslog-ng-agent-6.0.3-setup.exe</filename></para>
            <para>Regardless of the path name, the installer contains both the 32-bit and the 64-bit binaries.</para>
        </step>
        <step>
            <formalpara>
                <title>Installing the .NET framework (Windows only)</title>
                <para/>
            </formalpara>
            <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="chunk/topic-dotnet.xml"/>
        </step>
    </procedure>
    <procedure>
        <title>Installing the &abbrev; server on Linux</title>
        <formalpara>
            <title>Purpose:</title>
            <para/>
        </formalpara>
        <para>To install &product; in server mode, complete the following steps:</para>
        <formalpara>
            <title>Prerequisites:</title>
            <para/>
        </formalpara>
        <para>Running &product; in server mode requires a license file. The license determines how many individual hosts can connect to the server. You can obtain the license from your sales representative.</para>
        <formalpara>
            <title>Steps:</title>
            <para/>
        </formalpara>
        <step>
            <para>Copy the installer and <filename>license.txt</filename> file to the server.</para>
        </step>
        <step>
            <para>Execute the following command as root:</para>
            <para><command>sh syslog-ng-premium-edition-6.0.3-linux-glibc2.3.6-amd64.run</command></para>
        </step>
        <step>
            <para>Select <guimenu>Continue</guimenu> on the Welcome screen, and accept the EULA.</para>
        </step>
        <step>
            <para>Verify that the system summary is correct.</para>
            <para>If false information is displayed, your platform might not be supported. Abort installation, and if necessary, contact &vendor; for support.</para>
        </step>
        <step>
            <para>Keep the default installation path and register your installation. Existing syslog implementations on the system are replaced.</para>
        </step>
        <step>
            <para>Provide the full path to the license file (<filename>license.txt</filename>).</para>
        </step>
        <step>
            <para>The installer generates a very basic configuration file during the installation process. Provide the following answers for the following questions:</para>
            <informaltable>
                <tgroup cols="2">
                    <thead>
                        <row>
                            <entry>Question</entry>
                            <entry>Answer</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry><emphasis>Remote source</emphasis>: Do you want to receive log messages from the network?</entry>
                            <entry><userinput>Yes</userinput></entry>
                        </row>
                        <row>
                            <entry><emphasis>Remote destination</emphasis>: To forward your log messages to a remote server, enter the address of the server and select OK. Otherwise, select Skip.</entry>
                            <entry><userinput>Skip</userinput></entry>
                        </row>
                    </tbody>
                </tgroup>
            </informaltable>
            <formalpara>
                <title>Expected outcome</title>
                <para/>
            </formalpara>
            <para>The installer stops the previously installed syslog implementation, and starts the &abbrev; server.</para>
        </step>
        <step>
            <para><emphasis>Validating the installation</emphasis></para>
            <para>Test local logging:</para>
            <substeps>
                <step>
                    <para>Issue the following commands as root:</para>
                    <para><command>logger test message</command></para>
                </step>
                <step>
                    <para>Verify local log with the following command:</para>
                    <para><command>tail /var/log/messages</command></para>
                    <formalpara>
                        <title>Expected outcome</title>
                        <para/>
                    </formalpara>
                    <para>The <command>test message</command> line is displayed in the log.</para>
                </step>
            </substeps>
        </step>
    </procedure>
    <procedure>
        <title>Installing the &abbrev; client on Linux</title>
        <formalpara>
            <title>Purpose:</title>
            <para/>
        </formalpara>
        <para>To install &product; in client mode, complete the following steps:</para>
        <formalpara>
            <title>Prerequisites:</title>
            <para/>
        </formalpara>
        <para>No license file is required to run &abbrev; in client mode.</para>
        <formalpara>
            <title>Steps:</title>
            <para/>
        </formalpara>
        <step>
            <para>Execute the following command as root:</para>
            <para><command>sh syslog-ng-premium-edition-6.0.3-linux-glibc2.3.6-amd64.run</command></para>
        </step>
        <step>
            <para>Select <guimenu>Continue</guimenu> on the Welcome screen, and accept the EULA.</para>
        </step>
        <step>
            <para>Verify that the system summary is correct.</para>
            <para>If false information is displayed, your platform might not be supported. Abort installation, and if necessary, contact &vendor; for support.</para>
        </step>
        <step>
            <para>Keep the default installation path and register your installation. Existing syslog implementations on the system are replaced.</para>
        </step>
        <step>
            <para>The installer generates a very basic configuration file during the installation process. Provide the following answers for the following questions:</para>
            <informaltable>
                <tgroup cols="2">
                    <thead>
                        <row>
                            <entry>Question</entry>
                            <entry>Answer</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry><emphasis>Remote source</emphasis>: Do you want to receive log messages from the network?</entry>
                            <entry><userinput>No</userinput></entry>
                        </row>
                        <row>
                            <entry><emphasis>Remote destination</emphasis>: To forward your log messages to a remote server, enter the address of the server and select OK. Otherwise, select Skip.</entry>
                            <entry><userinput>&lt;IP-address-of-destination-&abbrev;-server&gt;</userinput></entry>
                        </row>
                    </tbody>
                </tgroup>
            </informaltable>
            <formalpara>
                <title>Expected outcome</title>
                <para/>
            </formalpara>
            <para>The installer stops the previously installed syslog implementation, and starts the &abbrev; server.</para>
        </step>
        <step>
            <para><emphasis>Validating the installation</emphasis></para>
            <substeps>
                <step>
                    <para>Test local logging. Issue the following commands as root:</para>
                    <para><command>logger test message</command></para>
                </step>
                <step>
                    <para>Verify local log with the following command:</para>
                    <para><command>tail /var/log/messages</command></para>
                    <formalpara>
                        <title>Expected outcome</title>
                        <para/>
                    </formalpara>
                    <para>The <command>test message</command> line is displayed in the log.</para>
                </step>
                <step>
                    <para>Test remote logging. On the client machine, enter the following command:</para>
                    <para><command>logger remote test message</command></para>
                </step>
                <step>
                    <para>Verify the server log. On the &abbrev; server, enter:</para>
                    <para><command>tail /var/log/messages</command></para>
                    <formalpara>
                        <title>Expected outcome</title>
                        <para/>
                    </formalpara>
                    <para>The host name of the client machine and the message text <command>remote test message</command> is displayed in the log.</para>
                </step>
            </substeps>
            <formalpara>
                <title>Troubleshooting</title>
                <para/>
            </formalpara>
            <para>If messages are not forwarded from the client to the server, check if port 514 is blocked by a firewall (protected by default on most Linux servers).</para>
        </step>
    </procedure>
    <procedure>
        <title>Installing on Windows</title>
        <formalpara>
            <title>Purpose:</title>
            <para/>
        </formalpara>
        <para>The following instructions describe the standalone installation, which is configured locally. For more advanced installation options (using domain group policies, installing by group policy), refer to <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="https://syslog-ng.com/documents/html/syslog-ng-pe-6.0-guides/en/syslog-ng-windows-agent-guide-admin/html/index.html">The &agent; Administrator Guide</link>.</para>
        <formalpara>
            <title>Steps:</title>
            <para/>
        </formalpara>
        <step>
            <para>Execute the downloaded binary.</para>
        </step>
        <step>
            <para>Accept the EULA.</para>
        </step>
        <step>
            <para>Select the destination folder for &agent;.</para>
        </step>
        <step>
            <para>Choose <guimenu>Stand alone mode</guimenu>.</para>
        </step>
        <step>
            <para>The installer generates a simple configuration. Enter the destination IP of the &abbrev; server:</para>
            <substeps>
                <step>
                    <para>Select <guimenu>Destinations</guimenu></para>
                </step>
                <step>
                    <para>Double-click <guimenu>Add new server</guimenu></para>
                </step>
                <step>
                    <para>Enter the server's IP address</para>
                </step>
                <step>
                    <para>Change the port number to <parameter>601</parameter></para>
                </step>
                <step>
                    <para>Click <guimenu>OK</guimenu></para>
                </step>
            </substeps>
        </step>
        <step>
            <para>Close the configuration window to finish installation.</para>
        </step>
        <step>
            <para><emphasis>Validating the installation</emphasis></para>
            <para>Test remote logging:</para>
            <substeps>
                <step>
                    <para>Log out and back in on the Windows client</para>
                </step>
                <step>
                    <para>Verify the server log. On the &abbrev; server, enter the following command:</para>
                    <para><command>tail /var/log/messages</command></para>
                </step>
            </substeps>
            <formalpara>
                <title>Expected outcome</title>
                <para/>
            </formalpara>
            <para>The logout and login events are displayed in the log.</para>
        </step>
    </procedure>
</section>
