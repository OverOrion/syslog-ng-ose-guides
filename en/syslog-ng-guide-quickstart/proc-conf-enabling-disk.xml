<!DOCTYPE topic
[
<!ENTITY % entities SYSTEM "../shared/syslog-ng-entities.ent">
%entities;
]>
<procedure xml:id="proc-conf-enabling-disk" xmlns="http://docbook.org/ns/docbook">
    <title>Enabling disk buffer on the &abbrev; client on Linux</title>
    <formalpara>
        <title>Purpose:</title>
        <para/>
    </formalpara>
    <para>The Premium Edition of syslog-ng can store messages on the local hard disk if the central log server or the network connection to the server becomes unavailable. This feature is called the disk buffer and needs to be configured only on the client side.</para>
    <note>
        <para>The log messages on Windows come from files – either eventlog containers or custom log files – which are already stored on the hard disk, so the agent does not use additional disk buffering.</para>
    </note>
    <para>To enable disk buffering on the &abbrev; client on Linux, modify its configuration:</para>
    <formalpara>
        <title>Steps:</title>
        <para/>
    </formalpara>
    <step>
        <para>Open the <filename>/opt/syslog-ng/etc/syslog-ng.conf</filename> configuration file in a text editor.</para>
    </step>
    <step>
        <para>Locate the line starting with <command>destination d_logserver</command>.</para>
    </step>
    <step>
        <para>Modify it to look like the following line:</para>
        <synopsis>destination d_logserver {
    tcp("&lt;PEServerIP&gt;" disk-buffer(disk-buf-size(2000000)));
};</synopsis>
        <para>Replace <parameter>&lt;PEServerIP&gt;</parameter> with the hostname or IP address of the &abbrev; server.</para>
        <para>For additional disk buffer options, refer to <olink targetdoc="syslog-ng-pe-guide-admin" targetptr="reference-destination-network-chapter"/>.</para>
    </step>
    <step>
        <para>Save the configuration and restart syslog-ng.</para>
    </step>
</procedure>
