<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  [
  <!ENTITY % entities SYSTEM "../shared/syslog-ng-entities.ent">
  %entities;
  ]
 >
<simplesect xml:id="simplesect-subscriptions" xmlns="http://docbook.org/ns/docbook">
    <title>subscriptions</title>
    <indexterm type="parameter">
        <primary>subscriptions</primary>
    </indexterm>
    <informaltable frame="topbot" colsep="0" rowsep="0">
        <tgroup cols="2">
            <colspec colnum="1" colwidth="100pt"/>
            <tbody>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>map</entry>
                </row>
                <row>
                    <entry>Default: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>N/A</entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <para><emphasis role="bold">Description:</emphasis> The options related to the subscriptions you have set up on &wecabbrev;:<itemizedlist>
            <listitem>
                <para><xref linkend="table-subscriptions-name"/></para>
            </listitem>
            <listitem>
                <para><xref linkend="table-subscriptions-computers"/></para>
            </listitem>
            <listitem>
                <para><xref linkend="table-subscriptions-contentformat"/></para>
            </listitem>
            <listitem>
                <para><xref linkend="table-subscriptions-heartbeats"/></para>
            </listitem>
            <listitem>
                <para><xref linkend="table-subscriptions-connectionretry"/></para>
            </listitem>
            <listitem>
                <para><xref linkend="table-batchsizelimit"/></para>
            </listitem>
            <listitem>
                <para><xref linkend="table-batchtimeoutlimit"/></para>
            </listitem>
            <listitem>
                <para><xref linkend="table-subscriptions-queries"/></para>
            </listitem>
            <listitem>
                <para><xref linkend="table-subscriptions-readexistingevents"/></para>
            </listitem>
        </itemizedlist></para>
    <note>
        <para>You can set up multiple subscriptions to events coming from the same Windows host. If an event matches more than one subscription, the event log comes in to &wecabbrev; as many times as there is a match.</para>
    </note>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-subscriptions-name" xreflabel="name">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>name</primary>
                        </indexterm><emphasis role="bold">name</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>string</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>N/A</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> The unique name of the subscription in &wecabbrev;.</para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-subscriptions-computers" xreflabel="computers">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>computers</primary>
                        </indexterm><emphasis role="bold">computers</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>list of strings</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>N/A</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> A list of strings that specifies the DNS names of the non-domain computers that are allowed to initiate subscriptions. Specifies the Windows hosts from which you want &wecabbrev; to receive event logs.</para>
                        <para>The names can be specified using the <userinput>*</userinput> and <userinput>?</userinput> wildcards, for example <userinput>"*.mydomain.com"</userinput> or <userinput>"*"</userinput>.</para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-subscriptions-contentformat" xreflabel="contentformat">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>contentformat</primary>
                        </indexterm><emphasis role="bold">contentformat</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>Events|RenderedText</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>N/A</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> A value that specifies the format of the returned events.</para>
                        <para>Possible values are:</para>
                        <itemizedlist>
                            <listitem>
                                <para><userinput>RenderedText</userinput>: Events are returned with the localized strings (such as event description strings) attached to the events</para>
                            </listitem>
                            <listitem>
                                <para><userinput>Events</userinput>: Events are returned without any of the localized strings</para>
                            </listitem>
                        </itemizedlist>
                        <para>&vendor; recommends setting this option to <userinput>RenderedText</userinput>.</para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-subscriptions-heartbeats" xreflabel="heartbeats">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>heartbeats</primary>
                        </indexterm><emphasis role="bold">heartbeats</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>integer</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>N/A</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> A value that specifies the heartbeat interval for the subscription in seconds.</para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-subscriptions-connectionretry" xreflabel="connectionretry">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>connectionretry</primary>
                        </indexterm><emphasis role="bold">connectionretry</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>integer</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>N/A</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> &wecabbrev; attempts to reconnect to the Windows host(s) at the specified interval of time in seconds.</para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-batchsizelimit" xreflabel="batchsizelimit">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>batchsizelimit</primary>
                        </indexterm><emphasis role="bold">batchsizelimit</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>integer</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>0 (meaning that there is no limit)</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> Specifies the maximum number of items for batched delivery in the event subscription.</para>
                        <para>Set this value to <userinput>1</userinput> if you wish to perform tests or debugging.</para>
                        <note>
                            <para>This option is not enforced on the Windows host side. Windows is handling this value only as a recommendation. The only exception is the value <userinput>1</userinput>.</para>
                        </note>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-batchtimeoutlimit" xreflabel="batchtimeoutlimit">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>batchtimeoutlimit</primary>
                        </indexterm><emphasis role="bold">batchtimeoutlimit</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>integer</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>N/A</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> Specifies the maximum latency allowed in delivering a batch of events (in seconds).</para>
                        <note>
                            <para>This option is not enforced on the Windows host side. Windows is handling this value only as a recommendation.</para>
                        </note>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-subscriptions-queries" xreflabel="queries">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>queries</primary>
                        </indexterm><emphasis role="bold">queries</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>string</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>N/A</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> Specifies the query string for the subscription.</para>
                        <para>You can:</para>
                        <itemizedlist>
                            <listitem>
                                <para>type this value manually, or</para>
                            </listitem>
                            <listitem>
                                <para>copy this value from the <guimenu>XML</guimenu> tab of the <guimenu>Create Custom View</guimenu> pop-up window in Windows</para>
                            </listitem>
                        </itemizedlist>
                        <para>For examples of queries, check the following Windows blog posts:</para>
                        <itemizedlist>
                            <listitem>
                                <para>Microsoft TechNet blog post <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://blogs.technet.microsoft.com/askds/2011/09/26/advanced-xml-filtering-in-the-windows-event-viewer/"><emphasis>Advanced XMl filtering in the Windows Event Viewer</emphasis></link></para>
                            </listitem>
                            <listitem>
                                <para>Microsoft Developer Network article <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://msdn.microsoft.com/en-us/library/bb736545(v=vs.85).aspx"><emphasis>Wecutil.exe</emphasis></link></para>
                            </listitem>
                        </itemizedlist>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
    <informaltable frame="topbot" colsep="0" rowsep="0" xml:id="table-subscriptions-readexistingevents" xreflabel="readexistingevents">
        <tgroup cols="2">
            <colspec colnum="1" colname="c1" colwidth="100pt"/>
            <colspec colnum="2" colname="c2"/>
            <tbody>
                <row>
                    <entry>
                        <indexterm type="parameter">
                            <primary>subscriptions</primary>
                        </indexterm><indexterm type="parameter">
                            <primary>readexistingevents</primary>
                        </indexterm><emphasis role="bold">readexistingevents</emphasis>
                    </entry>
                    <entry/>
                </row>
                <row>
                    <entry>Type: <?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>true|false</entry>
                </row>
                <row>
                    <entry>Default:<?dbhtml bgcolor="#D4D6EB" ?>
                        <?dbfo bgcolor="#D4D6EB" ?>
                    </entry>
                    <entry>false</entry>
                </row>
                <row>
                    <entry namest="c1" nameend="c2">
                        <para><emphasis role="bold">Description:</emphasis> When the value is <userinput>true</userinput>, all existing events are read from the subscription event source if the subscription in question has not been read yet. When the value is <userinput>false</userinput>, only future (arriving) events are delivered. If the subscription has a state in the persist file, this option will have no effect.</para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </informaltable>
</simplesect>
