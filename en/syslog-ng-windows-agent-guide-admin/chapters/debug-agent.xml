<!DOCTYPE chapter
[
<!ENTITY % entities SYSTEM "../../shared/syslog-ng-entities.ent">
  %entities;]>
<procedure xml:id="debug-agent" xmlns="http://docbook.org/ns/docbook">
    <title>Enabling debug logging in &agentabbrev;</title>
    <formalpara>
        <title>Purpose:</title>
        <para/>
    </formalpara>
    <para>In case you experience problems with The &agentabbrev; the BalaBit support team might request you to create debug logs for the application to help troubleshoot the problem. Complete the following steps.</para>
    <note>
        <para>The debug log is not suited to detect the reasons behind why a syslog-ng service could not start. The only way to check a non-starting agent service is to run it manually in debug mode (use the command <command>syslog-ng-agent.exe /D</command>). Make sure that if the <parameter>[AgentDbgLog]</parameter> part of the <filename>debug.ini</filename> file exists, it is set to <parameter>enabled=off</parameter>.</para>
    </note>
    <formalpara>
        <title>Steps:</title>
        <para/>
    </formalpara>
    <step>
        <para>To enable logging debug logs, enter the following lines in the <filename>debug.ini</filename> file:</para>
        <synopsis>[AgentDbgLog]
enabled=on</synopsis>
        <para>Debug messages are written into the installation folder of the &agentabbrev; under the <filename>syslog_ng_agent_dbg.log</filename> filename by default, if no other path is specified. To change the destination folder of the debug log file, enter a path in the path=&lt;debug_file_folder_path&gt; row.</para>
        <xi:include href="../../shared/wnt/warning-windows-debug-path.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
    </step>
    <step>
        <para>To apply the changes, restart the &agentabbrev; after modifying the <parameter>[AgentDbgLog]</parameter> part of the <filename>debug.ini</filename> file.</para>
        <para>After the restart, a log message is automatically generated about the start of debug logging mode, with a timestamp and the path of the log file.</para>
        <example>
            <title>Debug logging enabled log message</title>
            <synopsis>Apr 16 13:14:02 zts-win015 syslog-ng[252]: syslog-ng Agent debug mode is enabled; output file='.\syslog_ng_agent_dbg.log'</synopsis>
        </example>
    </step>
    <step>
        <para>Reproduce the error. It will be included in the debug log.</para>
    </step>
    <step>
        <para>After solving the problem, disable debug logging, otherwise the log file will grow and might consume the available hard disk space. The log file contains the log messages received and processed by the &agentabbrev; as well.</para>
    </step>
</procedure>
