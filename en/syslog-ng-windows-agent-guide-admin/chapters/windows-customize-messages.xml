<!DOCTYPE chapter
[
<!ENTITY % entities SYSTEM "../../shared/syslog-ng-entities.ent">
  %entities;]>
<procedure xml:id="windows-customize-messages" xmlns="http://docbook.org/ns/docbook">
    <title>Customizing messages using templates</title>
    <formalpara>
        <title>Purpose:</title>
        <para/>
    </formalpara>
    <para>To create a template, complete the following procedure:</para>
    <warning>
        <para>These macros are available only in the &agent;. To recognize Windows-specific elements of the log message (for example eventlog-related macros) on the syslog-ng server, you have to use parsers on the syslog-ng server. The parser must be configured to match the message format set in the syslog-ng Agent. For details on configuring parsers on your &product; server, see <olink targetdoc="syslog-ng-pe-guide-admin" targetptr="chapter-parsers"/>.</para>
    </warning>
    <formalpara>
        <title>Steps:</title>
        <para/>
    </formalpara>
    <step>
        <para>Start the configuration interface of the &agent; application.</para>
    </step>
    <step>
        <para>Select <guimenu>syslog-ng Agent Settings > Destinations</guimenu>. Select your log server, and click <guimenu>Properties</guimenu>.</para>
    </step>
    <step>
        <para>To change the format of messages received from eventlog sources, type the message format you want to use into the <guimenu>Event Message Format > Message Template</guimenu> field.</para>
        <para>To change the format of messages received from file sources, type the message format you want to use into the <guimenu>File Message Format > Message Template</guimenu> field.</para>
        <para>Do not forget to add the <userinput>$</userinput> character before macros. For a complete list of the available macros, see <xref linkend="windows-macros"/>.</para>
        <para>For example, to send the messages in the <userinput>DATE HOSTNAME MESSAGE</userinput> format, type <userinput>Date:$DATE Hostname:$HOST Logmessage:$MESSAGE</userinput>.</para>
        <para>Note that the $MESSAGE macro contains not only the text of the log message, but also additional information received from the message source, such as the name of the eventlog container, or the file, as set in the eventlog-specific and file-specific templates.</para>
        <note>
            <para>Templates are assigned to a single destination server, so it is possible to use different templates for different servers. However, a server and its failover servers always receive the same message.</para>
        </note>
        <warning>
            <para>If you have more than one destination servers configured (separate servers, not in failover mode), and you want to use the same template for every server, you must manually copy the template into the configuration of each server. Template modifications are not applied automatically to every server.</para>
        </warning>
    </step>
    <step>
        <para>Click <guimenu>OK</guimenu>.</para>
    </step>
    <step>
        <para>To activate the changes, restart the &agentabbrev; service.</para>
    </step>
</procedure>
