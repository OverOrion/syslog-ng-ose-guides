<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE preface
 [  <!ENTITY % entities SYSTEM "../syslog-ng-entities.ent">
 %entities;]>
<preface xml:id="preface" xmlns="http://docbook.org/ns/docbook" version="5.0">
    <title>Preface</title>
    <para>Welcome to the &product; &version; Administrator Guide!</para>
    <para>This document describes how to configure and manage syslog-ng. Background information for the technology and concepts used by the product is also discussed.</para>
    <section>
        <title>Summary of contents</title>
        <para><xref linkend="chapter_intro"/> describes the main functionality and purpose of &abbrev;.</para>
        <para><xref linkend="chapter_concepts"/> discusses the technical concepts and philosophies behind &abbrev;.</para>
        <para><xref linkend="chapter_install"/> describes how to install &abbrev; on various UNIX-based platforms using the precompiled binaries.</para>
        <para><xref linkend="chapter-quickstart"/> provides a briefly explains how to perform the most common log collecting tasks with &abbrev;.</para>
        <para><xref linkend="chapter-configuration-file"/> discusses the configuration file format and syntax in detail, and explains how to manage large-scale configurations using included files and reusable configuration snippets.</para>
        <para><xref linkend="chapter-sources"/> explains how to collect and receive log messages from various sources.</para>
        <para><xref linkend="chapter-destinations"/> describes the different methods to store and forward log messages.</para>
        <para><xref linkend="chapter-routing-filters"/> explains how to route and sort log messages, and how to use filters to select specific messages.</para>
        <para><xref linkend="chapter-global-options"/> lists the global options of &abbrev; and explains how to use them.</para>
        <para><xref linkend="chapter-encrypted-transport-tls"/> shows how to secure and authenticate log transport using TLS encryption.</para>
        <para><xref linkend="chapter-rltp"/> describes the reliable log transport that prevents message loss.</para>
        <para><xref linkend="chapter-manipulating-messages"/> describes how to customize message format using templates and macros, how to rewrite and modify messages, and how to use regular expressions.</para>
        <para><xref linkend="chapter-parsers"/> describes how to segment and process structured messages like comma-separated values.</para>
        <para><xref linkend="chapter-patterndb"/> explains how to identify and process log messages using a pattern database.</para>
        <para><xref linkend="chapter-log-statistics"/> details the available statistics that &abbrev; collects about the processed log messages.</para>
        <para><xref linkend="chapter-multithreading"/> describes how to configure &abbrev; to use multiple processors, and how to optimize its performance.</para>
        <para><xref linkend="chapter-troubleshooting-syslog-ng"/> offers tips to solving problems.</para>
        <para><xref linkend="chapter_examples"/> gives recommendations to configure special features of &abbrev;.</para>
        <para><xref linkend="man_syslog-ng"/> contains the manual pages of the &abbrev; application.</para>
        <para><xref linkend="app-eula"/> includes the text of the End-User License Agreement applicable to &product;.</para>
        <para><xref linkend="lgpl"/> includes the text of the LGPLv2.1 license applicable to the core of &product;.</para>
        <para><xref linkend="gpl"/> includes the text of the GPLv2 license applicable to &product;.</para>
        <para><xref linkend="appendix_cc"/> includes the text of the Creative Commons Attribution Non-commercial No Derivatives (by-nc-nd) License applicable to The &product; &version; Administrator Guide.</para>
        <para><xref linkend="go01"/> defines the important terms used in this guide.</para>
        <para><xref linkend="syslog-ng-parameter-index"/> provides cross-references to the definitions of options, parameters, and macros available in &abbrev;.</para>
        <para><xref linkend="ix01"/> provides cross-references to important terms used in this guide.</para>
    </section>
    <section>
        <title>Target audience and prerequisites</title>
        <para>This guide is intended for system administrators and consultants responsible for designing and maintaining logging solutions and log centers. It is also useful for IT decision makers looking for a tool to implement centralized logging in heterogeneous environments.</para>
        <para>The following skills and knowledge are necessary for a successful syslog-ng administrator:</para>
        <itemizedlist>
            <listitem>
                <para>At least basic system administration knowledge.</para>
            </listitem>
            <listitem>
                <para>An understanding of networks, TCP/IP protocols, and general network terminology.</para>
            </listitem>
            <listitem>
                <para>Working knowledge of the UNIX or Linux operating system.</para>
            </listitem>
            <listitem>
                <para>In-depth knowledge of the logging process of various platforms and applications.</para>
            </listitem>
            <listitem>
                <para>An understanding of the <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.ietf.org/rfc/rfc3164.txt">legacy syslog (BSD-syslog) protocol</link>) and the <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://tools.ietf.org/html/rfc5424">new syslog (IETF-syslog) protocol</link>) standard.</para>
            </listitem>
        </itemizedlist>
    </section>
    <section xml:id="PE-OSE">
        <title>Products covered in this guide</title>
        <para>This guide describes the use of the following syslog-ng version:</para>
        <itemizedlist>
            <listitem>
                <para>&product; (&abbrev;) &techversion;.1 and later</para>
            </listitem>
        </itemizedlist>
    </section>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../../xml-stylesheet/common/common.xml" xpointer="element(common_typographical_conventions)"/>

    <section xml:id="support-contact">
        <info><title>Contact and support information</title></info>
        <para>This product is developed and maintained by BalaBit IT Security Ltd. We are located in Budapest, Hungary. Our address is:</para>
        <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../../xml-stylesheet/common/common.xml" xpointer="element(vendor-address)"/>
        <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../../xml-stylesheet/common/common.xml" xpointer="element(common_preface_contact_sales)"/>
        <section>
            <title>Support contact</title>
            <para>In case you experience a problem that is not covered in this guide, <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/wiki/syslog-ng-faq">visit the syslog-ng wiki</link> or <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="https://lists.balabit.hu/mailman/listinfo/syslog-ng/">post it on syslog-ng mailing list</link>.</para>
            <para condition="ose">To report bugs found in &abbrev;, <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="https://bugzilla.balabit.com/">visit this page</link>.</para>
            <para condition="pe">Product support, including 7x24 online support is available in various packages. For support options, <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/support/packages/">visit the following page</link>.</para>
            <para condition="ose">Precompiled binary packages are available for free from various third-parties. Most of these are listed on the <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/network-security/syslog-ng/opensource-logging-system/downloads/3rd_party/">syslog-ng website</link>.</para>
            <para condition="pe">Support e-mail address: <email>support@balabit.com</email>. </para>
            <para condition="pe">Support hotline: +36 1 371 0540 (available from 9 AM to 5 PM CET on weekdays)</para>
            <para condition="pe">The <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/boss">BalaBit Online Support System</link> offers 24 hours technical support. This system is available only for users with a valid support contract and a MyBalaBit account. To sign up for MyBalaBit, <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/mybalabit">visit this page</link>.</para>
        </section>
        <xi:include href="../../xml-stylesheet/common/common.xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="element(common_preface_training)"/>
    </section>
    <section>
        <title>About this document</title>
        <para>This guide is a work-in-progress document with new versions appearing periodically.</para>
        <para>The latest version of this document can be downloaded from the BalaBit website <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/support/documentation/">here</link>.</para>

    <section>
      <title>Summary of changes</title>
      <section xml:id="windows-changes" condition="windows-agent">
        <title>Summary of changes</title>
        <section>
          <title>Version 3.2 - 4.0</title>
          <formalpara>
            <title>Changes in product:</title>
            <para/>
          </formalpara>
          <itemizedlist>
            <listitem><para>Extended the list of compatible Microsoft .NET Framework versions with version 3.0 and version 3.5 in <xref linkend="windows_install_standalone"/>.</para></listitem>
            <listitem><para>Updated the description of Legacy BSD Syslog Protocol in <xref linkend="windows_configure_destination"/>.</para></listitem>
          </itemizedlist>
          <formalpara>
            <title>Changes in document:</title>
            <para/>
          </formalpara>
          <itemizedlist>
            <listitem>
              <para><xref linkend="windows-msi-install-custom-directory"/> has been added to the document.</para>
            </listitem>
            <listitem>
              <para><xref linkend="debug_agent"/> has been clarified.</para>
            </listitem>
            <listitem>
              <para>A warning about file sources on network shares has been added to <xref linkend="windows_sources_file"/>.</para>
            </listitem>
            <listitem>
              <para>A warning about archiving for the event container has been added to <xref linkend="windows_sources_eventlog"/>.</para>
            </listitem>
            <listitem>
              <para>A note about running the service with "log on as service" rights has been added to <xref linkend="windows_service"/>.</para>
            </listitem>
            <listitem><para>The description of failover has bee clarified in <xref linkend="windows_destinations"/>.</para></listitem>
            <listitem><para>The relation between syslog-ng PE and syslog-ng Agent for Windows has been clarified in <xref linkend="windows-sect-supported-os"/>.</para></listitem>
            <listitem><para>The document index has been updated.</para></listitem>
            <listitem><para>Procedures have been restructured to facilitate easier understanding.</para></listitem>
            <listitem><para>Latin abbreviations have been replaced in document with their English equivalents.</para></listitem>
            <listitem><para>Links to sections in the document have been harmonized.</para></listitem>
            <listitem><para>Links to external web pages have been clarified.</para></listitem>
          </itemizedlist>
        </section>
        <section>
          <title>Version 3.1.1 - 3.2</title>
          <formalpara>
            <title>Changes in product:</title>
            <para/>
          </formalpara>
          <itemizedlist>
            <listitem>
              <para>Added how to set file encoding to <xref linkend="windows_sources_file"/>.</para>
            </listitem>
            <listitem>
              <para>Added the Snare protocol description to <xref
                linkend="windows_configure_destination"/>.</para>
            </listitem>
            <listitem>
              <para>Added global and destination-specific filters to <xref
                linkend="windows_message_filtering"/>.</para>
            </listitem>
            <listitem>
              <para>Documented XML export and import in <xref linkend="windows_xml_config"/> and
                removed the obsolete XML examples.</para>
            </listitem>
            <listitem>
              <para>Added how to process multi-line messages to <xref
                linkend="windows_sources_file_multi_line"/>.</para>
            </listitem>
            <listitem>
              <para>Added filters to <xref linkend="filters_eventlog"/>.</para>
            </listitem>
            <listitem>
              <para>Added filters to <xref linkend="filters_file"/>.</para>
            </listitem>
            <listitem>
              <para>Updated macros in <xref linkend="windows_macros"/>.</para>
            </listitem>
            <listitem>
              <para>Figures have been added to the document.</para>
            </listitem>
          </itemizedlist>
          <formalpara>
            <title>Changes in documentation:</title>
            <para/>
          </formalpara>
          <itemizedlist>
            <listitem>
              <para>Editorial changes only.</para>
            </listitem>
          </itemizedlist>
        </section>
        <section>
          <title>Version 3.0 - 3.1</title>
          <formalpara>
            <title>Changes in product:</title>
            <para/>
          </formalpara>
          <itemizedlist>
            <listitem>
              <para>The contents of the guide have been updated to &agent; 3.1.</para>
            </listitem>
          </itemizedlist>
          <formalpara>
            <title>Changes in documentation:</title>
            <para/>
          </formalpara>
          <itemizedlist>
            <listitem>
              <para>The documentation of the &agent; has been separated from <emphasis>The syslog-ng
                Administrator Guide</emphasis>.</para>
            </listitem>
          </itemizedlist>
        </section>
      </section>

      <section xml:id="pe-changes-42-43" condition="pe">
        <title>Version 4 F2 - </title>
        <formalpara>
          <title>Changes in product:</title>
          <para/>
        </formalpara>
        <itemizedlist>
            <listitem>
                <para>The manual page of the pdbtool utility has been updated, and descriptions to missing options and commands has been added. For details, see <xref linkend="pdbtool.1"/>.</para>
            </listitem>
            <listitem>
                <para>The <parameter>tags()</parameter> option has been documented in <xref linkend="reference_source_internal"/>.</para>
            </listitem>
            <listitem>
                <para>The <parameter>expect-hostname</parameter> source flag has been documented.</para>
            </listitem>
            <listitem>
                <para>The <parameter>--caps</parameter> option has been documented in <xref linkend="syslog-ng.8"/>.</para>
            </listitem>
            <listitem>
                <para>The <xref linkend="global-option-proto-template"/> and <xref linkend="global-option-file-template"/> global options have been documented.</para>
            </listitem>
            <listitem>
                <para><xref linkend="sql_option_session-statements"/> has been added to the document.</para>
            </listitem>
            <listitem>
                <para><xref linkend="template-function-indent-multi-line"/> has been added to the document.</para>
            </listitem>
          <listitem><para>The <parameter>allow-compress()</parameter> option has been documented. For details, see <xref linkend="tlsoptions"/>.</para></listitem>
          <listitem>
            <para>HP-UX 11v3 support on Itanium64 has been added to <xref linkend="supported_platforms"/>.</para>
          </listitem>
        </itemizedlist>
        <formalpara>
          <title>Changes in documentation:</title>
          <para/>
        </formalpara>
        <itemizedlist>
                <listitem>
                    <para>Missing facility names have been added to <xref linkend="filter-facility"/>.</para>
                </listitem>
                <listitem>
                    <para>The description of the <parameter>chain_hostnames</parameter> global option has been extended. For details, see <xref linkend="option_chain_hostnames"/>.</para>
                </listitem>
                <listitem>
                    <para>The document index has been updated.</para>
                </listitem>
                <listitem>
                    <para>The descriptions of statistics types have been clarified in <xref linkend="chapter-log-statistics"/>.</para>
                </listitem>
                <listitem>
                    <para>The description of pipe() has been clarified in <xref linkend="table_source_drivers"/> and <xref linkend="table_destination_drivers"/>.</para>
                </listitem>
                <listitem>
                    <para>Descriptions of the <parameter>multiline-prefix</parameter> and <parameter>multiline-garbage</parameter> options have been removed from the sources that do not support them.</para>
                </listitem>
                <listitem>
                    <para>Clarified the use of double-quotes and special characters in <xref linkend="regular-expressions"/>.</para>
                </listitem>
                <listitem>
                    <para>Added a note about unsupported column types to <xref linkend="configuring_sql_mssql"/>.</para>
                </listitem>
                <listitem>
                    <para>The maximal number of worker-threads has been clarified in <xref linkend="chapter-multithreading"/>.</para>
                </listitem>
                <listitem>
                    <para>Corrected a note about persistent message contexts in <xref linkend="patterndb-correlation"/>.</para>
                </listitem>
                <listitem>
                    <para>Clarifications in <xref linkend="configuring_sql_oracle"/>.</para>
                </listitem>
                <listitem>
                    <para>A description of the <parameter>BOM</parameter> character has been added to <xref linkend="glossary-bom"/>.</para>
                </listitem>
                <listitem>
                    <para>The description of the <parameter>delimiter</parameter> option of csv-parser() has been clarified. For details, see <xref linkend="csv-parser-delimiter"/>.</para>
                </listitem>
                <listitem>
                    <para>A few notes regarding kernel messages and file sources have been reorganized to <xref linkend="kernel-messages"/>.</para>
                </listitem>
            </itemizedlist>
        </section>
    </section>
    <section>
        <title>Feedback</title>
        <para>Any feedback is greatly appreciated. General comments, errors found in the text, and any suggestions about how to improve the documentation is welcome at <email>documentation@balabit.com</email>.</para>
    </section>
    <section>
        <title>Acknowledgments</title>
        <para>BalaBit would like to express its gratitude to the syslog-ng users and the syslog-ng community for their invaluable help and support, including the community members listed at <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/network-security/syslog-ng/opensource-logging-system/community/contribution/">syslog-ng Community Page</link>.</para>
    </section>
    </section>
</preface>
