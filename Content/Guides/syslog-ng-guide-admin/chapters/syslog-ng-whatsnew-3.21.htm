<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="syslog-ng_whatsnew" MadCap:conditions="General.archive">
        <p>Version <MadCap:variable name="Version.version" /> of <MadCap:variable name="General.product" /> includes the following main features.</p>
        <div>
            <h6>HTTP-based Elasticsearch destination</h6>
            <p>Add a native, HTTP based destination Elasticsearch, called <span class="Code" oldrole="parameter">elasticsearch-http()</span>, as an alternative of the Java-based destination. This destination does not requires Java, and has smaller resource requirements. Eventually, we expect this destination to replace the Java implementation. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="configuring-destinations-elasticsearch-http"></a>.</p>
        </div>
        <div>
            <h6>C-based Kafka destination</h6>
            <p>Add a native destination based on the librdkafka library, as an alternative of the Java-based destination. This destination does not requires Java, and has smaller resource requirements. Eventually, we expect this destination to replace the Java implementation. Note that this destination requires a very recent version of librdkafka. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="configuring-destinations-kafka-c"></a>.</p>
        </div>
        <div>
            <h6>New parser</h6>
            <p>The CheckPoint LogExporter parser can parse CheckPoint log messages, and join the related multiline log messages into a single log message. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="checkpoint-parser"></a>.</p>
        </div>
        <div>
            <h6>New template functions</h6>
            <p>The $(implode) and $(explode) template functions allow you to split and join strings based on a simple separator. The exploded array is represented as a syslog-ng list that can be manipulated with the $(list-*) template functions. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="reference-template-functions"></a>.</p>
        </div>
        <div>
            <h6>Enhancements</h6>
            <ul>
                <li>
                    <p>The <span class="Code" oldrole="parameter">amqp()</span> destination now supports the heartbeat and the external authentication mechanisms of AMQP. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="configuring-destinations-amqp"></a>.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="parameter">graylog2()</span> destination now supports the TLS and the UDP transport mechanisms. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="configuring-destinations-graylog"></a>.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="parameter">apache-accesslog-parser()</span> now supports vhost:port as the first field of the log message in common and combined log formats.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="parameter">grouping-by()</span> parser now can order the messages of the context by using the <span class="Code" oldrole="parameter">sort-key()</span> option.</p>
                </li>
                <li>
                    <p>You can automatically determine the timezone of an incoming log message if the incoming stream is close to real time, and the timezone information is missing from the timestamp. You can enable this feature by using the <span class="Code" oldrole="parameter">flags(guess-timezone)</span> option in sources and the <span class="Code" oldrole="parameter">date-parser()</span>.</p>
                </li>
                <li>
                    <p>Until now, the <span class="Code" oldrole="parameter">syslog()</span> source automatically closed the connection to the sender if it received a message that was longer than the value of the <span class="Code" oldrole="parameter">log-msg-size()</span> option. From now on, if you set the <span class="Code" oldrole="parameter">trim-large-messages()</span> option to yes, <MadCap:variable name="General.abbrev"></MadCap:variable> only truncates the message to <span class="Code" oldrole="parameter">log-msg-size()</span>, and sends a log message to the <span class="Code" oldrole="parameter">internal()</span> source as notification about the truncation.</p>
                </li>
                <li>
                    <p>You can now set the maximum size of spoofed datagrams in <span class="Code" oldrole="parameter">udp()</span> destinations by using the <span class="Code" oldrole="parameter">spoof-source-max-msglen()</span> option. Earlier, this size was hard-wired to 1024 bytes.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="parameter">--omit-empty-values</span> option for destinations and template functions using value-pairs allows you to skip empty value-pairs in the output.</p>
                </li>
                <li>
                    <p>When parsing and classifying log messages with <span class="Code" oldrole="parameter">db-parser()</span>, <MadCap:variable name="General.abbrev"></MadCap:variable> so far used the value of the $PROGRAM field to determine which patterns to match to the incoming message. Now you can use <span class="Code" oldrole="parameter">program-template()</span> option to customize the value which selects the patterns to use. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="configuring-pattern-databases"></a>.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="parameter">pdbtool merge</span> tool can now sort the resulting database using the <span class="Code" oldrole="parameter">sort</span> option. For details, see the pdbtool manual page.</p>
                </li>
            </ul>
        </div>
    </body>
</html>