<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><body name="configuring-filters" oldrole="section">
<h1 name="configuring-filters" xmlns="http://docbook.org/ns/docbook">Using filters</h1>
<p oldrole="para">Filters perform log routing within syslog-ng: a message passes the filter if the filter expression is true for the particular message. If a log statement includes filters, the messages are sent to the destinations only if they pass all filters of the log path. For example, a filter can select only the messages originating from a particular host. Complex filters can be created using filter functions and logical boolean expressions.</p>
<p oldrole="para">To define a filter, add a filter statement to the syslog-ng configuration file using the following syntax:</p>
<MadCap:keyword term="filters:['defining']"></MadCap:keyword>
<pre class="Code" oldrole="synopsis">filter &lt;identifier&gt; { &lt;filter_type&gt;("&lt;filter_expression&gt;"); };</pre>
<p oldrole="para">Then use the filter in a log path, for example:</p>
<pre class="Code" oldrole="synopsis">log {
    source(s1);
    filter(&lt;identifier&gt;);
    destination(d1); };</pre>
<p oldrole="para">You can also define the filter inline. For details, see <MadCap:xref href="inline-objects.htm#inline-objects"></MadCap:xref>.</p>
<pre class="Code" oldrole="synopsis"></pre>
<div class="Example">
<h6 oldrole="example">Example: A simple filter statement</h6>
<p oldrole="para">The following filter statement selects the messages that contain the word <span class="Code" oldrole="userinput">deny</span> and come from the host <span class="Code" oldrole="userinput">example</span>.</p>
<pre class="Code" oldrole="synopsis">filter demo_filter { host("example") and match("deny" value("MESSAGE")) };
log {
    source(s1);
    filter(demo_filter);
    destination(d1); };</pre>
<p oldrole="para">The following example does the same, but defines the filter inline.</p>
<pre class="Code" oldrole="synopsis">log {
    source(s1);
    filter { host("example") and match("deny" value("MESSAGE")) };
    destination(d1); };</pre>
</div>
</body></html>
