<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <body name="message-missing-flow-control" oldrole="simplesect"><h1>Destination queue full</h1>
        <MadCap:keyword term="troubleshooting:['Destination queue full']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Error message: 

                    </td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1"><pre class="Code" oldrole="synopsis">Destination queue full, dropping messages; queue_len='10000', 
log_fifo_size='10000', count='4', 
persist_name='afsocket_dd_qfile(stream,serverdown:514)' </pre>
                    </td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Description: 

                    </td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <p oldrole="para">This message indicates message loss.</p>
                        <p oldrole="para">Flow-control must be enabled in the log path. When flow-control is enabled, syslog-ng will stop reading messages from the sources of the log statement if the destinations are not able to process the messages at the required speed.</p>
                        <p oldrole="para">If flow-control is enabled, syslog-ng will only drop messages if the destination queues/window sizes are improperly sized.</p>
                    </td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Solution: 

                    </td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <p oldrole="para">Enable flow-control in the log path.</p>
                        <p oldrole="para">If flow-control is disabled, syslog-ng will drop messages if the destination queues are full. Note that syslog-ng will drop messages even if the server is alive. If the remote server accepts logs at a slower rate than the sender syslog-ng receives them, the sender syslog-ng will fill up the destination queue, then drop the newer messages. Sometimes this error occurs only at a specific time interval, for example, only between<code>7:00</code>AM and<code>8:00</code>AM or between<code>16:00</code>PM and<code>17:00</code>PM when your users log in or log off and that generates a lot of messages within a short interval.</p>
                        <p oldrole="para">For more information, see <MadCap:xref href="concepts-flow-control.htm#concepts-flow-control"></MadCap:xref>.</p>
                    </td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
    </body>
</html>