<?xml version="1.0" encoding="utf-8"?>
<html>
    <head>
    </head>
    <body name="get-information-about-disk-buffer-files-getting-list">
        <h1 name="get-information-about-disk-buffer-files-getting-status-info">Getting the status information of disk-buffer files</h1>
        <h6 MadCap:conditions="CommonConditions_DoNotEdit.DoNotPublish" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Purpose</h6>
        <p>This section describes getting the status information of the disk-buffer files  used in <MadCap:variable name="General.product" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" /> (<MadCap:variable name="General.abbrev" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" />).</p>
        <div>
            <h6>Command syntax</h6>
            <p>The basic command syntax for getting the status information of the disk-buffer files used in <MadCap:variable name="General.abbrev" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" /> looks like the following:</p><pre><MadCap:conditionalText MadCap:conditions="General.PE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/opt/syslog-ng/bin/dqtool</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">dqtool</MadCap:conditionalText>info DISK-BUFFER_FILE</pre>
        </div>
        <div>
            <h6>Example commands</h6>
            <p>The following example commands describe how you can get the status information of two different types of disk-buffer files (namely, empty normal disk-buffer files, and non-empty reliable disk-buffer queue files).</p>
            <div class="Example">
                <h6>Example commands for empty, normal disk-buffer files, and non-empty, reliable disk-buffer queue files</h6>
                <ul>
                    <li>
                        <p>Empty, normal disk-buffer file</p><pre><p><MadCap:conditionalText MadCap:conditions="General.PE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/opt/syslog-ng/bin/dqtool</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">dqtool</MadCap:conditionalText> info <MadCap:conditionalText MadCap:conditions="General.PE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/opt/syslog-ng/var/syslog-ng-00000.qf</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/var/lib/syslog-ng/syslog-ng-00000.qf</MadCap:conditionalText></p><p>Disk-buffer state loaded; filename='<MadCap:conditionalText MadCap:conditions="General.PE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/opt/syslog-ng/var/syslog-ng-00000.qf</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/var/lib/syslog-ng/syslog-ng-00000.qf</MadCap:conditionalText>', number_of_messages='0'</p></pre>
                    </li>
                    <li>
                        <p>Non-empty, reliable disk-buffer queue file</p><pre><p><MadCap:conditionalText MadCap:conditions="General.PE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/opt/syslog-ng/bin/dqtool</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">dqtool</MadCap:conditionalText> info /opt/syslog-ng/var/syslog-ng-00000.rqf</p><p>Reliable disk-buffer state loaded; filename='/opt/syslog-ng/var/syslog-ng-00000.rqf', number_of_messages='10'</p></pre>
                    </li>
                </ul>
            </div>
        </div>
        <div>
            <h6>One-liner command to get the state of disk-buffer files in the default directory</h6>
            <p>You can use the following one-liner command to get the state of disk-buffer files in the default directory:</p><pre>for qfile in /opt/syslog-ng/var/*.?(r)qf ; do <MadCap:conditionalText MadCap:conditions="General.PE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/opt/syslog-ng/bin/dqtool</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">dqtool</MadCap:conditionalText> info $qfile 2&gt;&amp;1 ; done</pre>
        </div>
    </body>
</html>