<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="configuring-sources-syslog" oldrole="section">
        <h1 name="configuring-sources-syslog"><a name="configuring-sources-syslog"></a><span class="Code" oldrole="parameter">syslog</span>: Collecting messages using the IETF syslog protocol (syslog() driver)</h1>
        <MadCap:keyword term="source drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;syslog()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <p oldrole="para">The <span class="Code" oldrole="parameter">syslog()</span> driver can receive messages from the network using the standard IETF-syslog protocol (as described in RFC5424-26). UDP, TCP, and TLS-encrypted TCP can all be used to transport the messages.</p>
        <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
            </col>
            <tbody>
                <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                        <p>
                            <img src="../../../Resources/Images/Common/note.png" />
                        </p>
                    </td>
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                        <p oldrole="para">The <span class="Code" oldrole="parameter">syslog()</span> driver can also receive BSD-syslog-formatted messages (described in RFC 3164, see <MadCap:xref href="concepts-message-bsdsyslog.htm#concepts-message-bsdsyslog"><span style="color: #04aada;" class="mcFormatColor">BSD-syslog or legacy-syslog messages</span></MadCap:xref>) if they are sent using the IETF-syslog protocol.</p>
                        <p oldrole="para">In <MadCap:variable name="General.abbrev"></MadCap:variable> versions 3.1 and earlier, the <span class="Code" oldrole="parameter">syslog()</span> driver could handle only messages in the IETF-syslog (RFC 5424-26) format.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <MadCap:keyword term="TLS">
        </MadCap:keyword>
        <p oldrole="para">For the list of available optional parameters, see <MadCap:xref href="reference-source-syslog-chapter.htm#reference-source-syslog-chapter"><span style="color: #04aada;" class="mcFormatColor">syslog() source options</span></MadCap:xref>.</p>
        <!-- FIXME which parameters are required? -->
        <h6 oldrole="formalpara">Declaration:</h6><pre class="Code" oldrole="synopsis">syslog(ip() port() transport() options());</pre>
        <div class="Example">
            <h6 name="example-source-syslog" oldrole="example"><a name="example-source-syslog"></a>Example: Using the syslog() driver</h6>
            <p oldrole="para">TCP source listening on the localhost on port 1999.</p><pre class="Code" oldrole="synopsis">source s_syslog {
    syslog(
        ip(127.0.0.1)
        port(1999)
        transport("tcp")
    );
};</pre>
            <p oldrole="para">UDP source with defaults.</p><pre class="Code" oldrole="synopsis">source s_udp { syslog( transport("udp")); };</pre>
            <p oldrole="para">Encrypted source where the client is also authenticated. For details on the encryption settings, see <MadCap:xref href="tlsoptions.htm#tlsoptions"><span style="color: #04aada;" class="mcFormatColor">TLS options</span></MadCap:xref>.</p><pre class="Code" oldrole="synopsis">source s_syslog_tls{
    syslog(
        ip(10.100.20.40)
        transport("tls")
        tls(
            peer-verify(required-trusted)
            ca-dir('/opt/syslog-ng/etc/syslog-ng/keys/ca.d/')
            key-file('/opt/syslog-ng/etc/syslog-ng/keys/server_privatekey.pem')
            cert-file('/opt/syslog-ng/etc/syslog-ng/keys/server_certificate.pem')
        )
    );
};</pre>
        </div>
        <MadCap:snippetBlock src="../../shared/wnt/warning-udp-recvbuf.htm">
        </MadCap:snippetBlock>
    </body>
</html>