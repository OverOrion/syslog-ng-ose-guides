<?xml version="1.0" encoding="utf-8"?>

<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="rewrite-set-facility">
        <h1 name="rewrite-set-facility">Setting the facility field with the set-facility() rewrite function</h1>
        <MadCap:keyword term="rewrite()">
        </MadCap:keyword>
        <MadCap:keyword term="set-severity()">
        </MadCap:keyword>
        <p>It is possible to set the <span class="Code">facility</span> field with the <span class="Code">set-facility()</span> rewrite function. When set, the <span class="Code">set-facility()</span> rewrite function will only rewrite the <span>$PRIORITY</span> field in the message to the first parameter value specified in the function.
        </p>
        <div class="Note">
            <p class="Hyphenation"><span class="AllNoteStyles">NOTE:</span> If the parameter value is not a valid parameter value, the function ignores it and sends a debug message, but the application still sends the message.</p>
        </div>
        <div>
            <h6>Declaration</h6><pre>log {
			    source { system(); };
				    if (program("postfix")) {
				      rewrite { set-facility("mail"); };
				    };
				    destination { file("/var/log/mail.log"); };
				    flags(flow-control);
				};</pre>
        </div>
        <div>
            <h6>Parameters</h6>
            <p>The <span class="Code">set-facility()</span> rewrite function has a single, mandatory parameter that can be defined as follows:</p><pre><span class="Code">set-facility( "parameter1" );</span></pre>
        </div>
        <div>
            <h6>Accepted values</h6>
            <p>The <span class="Code">set-facility()</span> rewrite function accepts the following values:</p>
            <ul>
                <li>numeric strings: <span class="Code">[0-7]</span></li>
                <li>named values: <span class="Code">emerg</span>, <span class="Code">emergency</span>, <span class="Code">panic</span>, <span class="Code">alert</span>, <span class="Code">crit</span>, <span class="Code">critical</span>, <span class="Code">err</span>, <span class="Code">error</span>, <span class="Code">warning</span>, <span class="Code">warn</span>, <span class="Code">notice</span>, <span class="Code">info</span>, <span class="Code">informational</span>, <span class="Code">debug</span></li>
            </ul>
        </div>
        <div class="Example">
            <h6>Example usage for the <span class="Code">set-facility()</span> rewrite function</h6>
            <p>The following example can be used in production for the <span class="Code">set-facility()</span> rewrite function.</p><pre>rewrite {
set-facility("info");
set-facility("6");
set-facility("${.json.severity}");};</pre>
        </div>
    </body>
</html>