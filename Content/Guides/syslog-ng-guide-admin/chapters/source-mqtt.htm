<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="source-mqtt">
        <h1 name="source-mqtt">mqtt: receiving messages from an MQTT broker</h1>
        <MadCap:keyword term="mqtt()">
        </MadCap:keyword>
        <p>From <MadCap:variable name="General.abbrev" /> version <MadCap:conditionalText MadCap:conditions="General.OSE">3.35</MadCap:conditionalText>, you can use the <span class="Code">mqtt()</span> source to fetch messages from MQTT brokers.</p>
        <p>The <span class="Code">mqtt()</span> source builds on the <a href="https://www.hivemq.com/mqtt/mqtt-protocol/">MQTT protocol</a>, and uses its <a href="https://www.hivemq.com/blog/seven-best-mqtt-client-tools/">client</a> and <a href="https://www.hivemq.com/hivemq/mqtt-broker/">broker</a> entities.</p>
        <div class="Note">
            <p class="Hyphenation"><span class="AllNoteStyles">NOTE:</span> The rest of this chapter and its sections build on your familiarity with the MQTT protocol, the concept of client and broker entities, and how these entities function within an MQTT system.</p>
        </div>
        <div>
            <h6>Declaration:</h6><pre>source s_mqtt{
    mqtt(
        address("tcp://&lt;hostname&gt;:&lt;port-number&gt;")
        topic("&lt;topic-name&gt;")
    );
};</pre>
        </div>
        <div class="Example">
            <h6>Example: Using the mqtt() source in your configuration</h6>
            <p>The following example illustrates an <span class="Code">mqtt()</span> source configured to fetch messages from the MQTT broker running on <b class="Code">localhost:4444</b> using the <b class="Code">test/test topic</b>, and send them to the <b class="Code">localhost:4445</b> address.</p><pre>@version: 3.35
@include "scl.conf"
source s_mqtt {
    mqtt(
        address("tcp://localhost:4444")
        topic("test/test")
    );
};
destination d_network {
    network(
        "localhost"
        port(4445)
    );
};
log {
    source(s_mqtt);
    destination(d_network);;
};</pre>
        </div>
    </body>
</html>