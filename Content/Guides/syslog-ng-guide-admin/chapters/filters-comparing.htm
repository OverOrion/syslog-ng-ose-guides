<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="filters-comparing" oldrole="section">
        <h1 name="filters-comparing">Comparing macro values in filters</h1>
        <MadCap:keyword term="filters:['comparing values']">
        </MadCap:keyword>
        <MadCap:keyword term="ge">
        </MadCap:keyword>
        <MadCap:keyword term="gt">
        </MadCap:keyword>
        <MadCap:keyword term="eq">
        </MadCap:keyword>
        <MadCap:keyword term="ne">
        </MadCap:keyword>
        <MadCap:keyword term="le">
        </MadCap:keyword>
        <MadCap:keyword term="lt">
        </MadCap:keyword>
        <MadCap:keyword term="string comparison">
        </MadCap:keyword>
        <MadCap:keyword term="value comparison">
        </MadCap:keyword>
        <MadCap:keyword term="comparing values">
        </MadCap:keyword>
        <MadCap:keyword term="filters:['comparing values']">
        </MadCap:keyword>
        <p oldrole="para">Starting with <MadCap:variable name="General.abbrev"></MadCap:variable> version <MadCap:conditionaltext MadCap:conditions="General.ose">3.2</MadCap:conditionaltext><MadCap:conditionaltext MadCap:conditions="pe">4 F1</MadCap:conditionaltext>, it is also possible to compare macro values and templates as numerical and string values. String comparison is alphabetical: it determines if a string is alphabetically greater or equal to another string. Use the following syntax to compare macro values or templates. For details on macros and templates, see <MadCap:xref href="customizing-message-format.htm#customizing-message-format"></MadCap:xref>.</p><pre class="Code" oldrole="synopsis">filter &lt;filter-id&gt;
        {"&lt;macro-or-template&gt;" operator "&lt;value-or-macro-or-template&gt;"};</pre>
        <div class="Example">
            <h6 name="example-comparison" oldrole="example">Example: Comparing macro values in filters</h6>
            <p oldrole="para">The following expression selects log messages containing a PID (that is, <span class="Code" oldrole="parameter">${PID}</span> macro is not empty):</p><pre class="Code" oldrole="synopsis">filter f_pid {"${PID}" !=""};</pre>
            <p oldrole="para">The following expression selects log messages that do not contain a PID. Also, it uses a template as the left argument of the operator and compares the values as strings:</p><pre class="Code" oldrole="synopsis">filter f_pid {"${HOST}${PID}" eq "${HOST}"};</pre>
            <p oldrole="para">The following example selects messages with priority level 4 or higher.</p><pre class="Code" oldrole="synopsis">filter f_level {"${LEVEL_NUM}" &gt; "5"};</pre>
        </div>
        <p oldrole="para">Note that:</p>
        <ul oldrole="itemizedlist">
            <li oldrole="listitem">
                <p oldrole="para">The macro or template must be enclosed in double-quotes.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">The <span class="Code" oldrole="userinput">$</span> character must be used before macros.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">Using comparator operators can be equivalent to using filter functions, but is somewhat slower. For example, using <span class="Code" oldrole="userinput">"${HOST}" eq "myhost"</span> is equivalent to using <span class="Code" oldrole="userinput">host("myhost" type(string))</span>.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">You can use any macro in the expression, including user-defined macros from parsers and results of pattern database classifications.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">The results of filter functions are boolean values, so they cannot be compared to other values.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">You can use boolean operators to combine comparison expressions.</p>
                <!-- FIXME add a working example-->
            </li>
        </ul>
        <p oldrole="para">The following operators are available:</p>
        <MadCap:snippetBlock src="table-numerical.htm">
        </MadCap:snippetBlock>
    </body>
</html>