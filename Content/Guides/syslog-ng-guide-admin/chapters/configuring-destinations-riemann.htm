<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body MadCap:conditions="syslogngPE.ose" name="configuring-destinations-riemann" oldrole="section">
        <h1 MadCap:conditions="syslogngPE.ose" name="configuring-destinations-riemann">Monitoring your data with Riemann</h1>
        <MadCap:keyword term="destination drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;riemann()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <p oldrole="para">The <span class="Code" oldrole="parameter">riemann()</span> driver sends your data (for example, metrics or events) to a <a href="http://riemann.io/">Riemann</a> monitoring system.</p>
        <p oldrole="para">For the list of available parameters, see <MadCap:xref href="reference-destination-riemann.htm#reference-destination-riemann"></MadCap:xref>.</p>
        <h6 oldrole="formalpara">Declaration:</h6><pre class="Code" oldrole="synopsis">riemann(
	server("&lt;riemann-server-address&gt;")
	port("&lt;riemann-server-port&gt;")
	metric("&lt;the-metric-or-data-to-send-to-riemann&gt;")
);</pre>
        <div class="Example">
            <h6 name="example-using-riemann" oldrole="example">Example: Using the riemann() driver</h6>
            <p oldrole="para">The following destination sends the value of the SEQNUM macro (the number of messages sent to this destination) as a metric to the Riemann server.</p><pre class="Code" oldrole="synopsis">@version: <MadCap:variable name="syslogngPEVariables.Version"></MadCap:variable>

source s_network {
	network(port(12345));
};

destination d_riemann {
	riemann(
		server("localhost")
		port(5555)
		ttl("300.5")
		metric(int("$SEQNUM"))
		description("syslog-ng riemann test")
		state("ok")
		attributes(x-ultimate-answer("$(+ $PID 42)")
				   key("MESSAGE", rekey(add-prefix("x-")) )
				   )
	);
};

log {
	source(s_network);
	destination(d_riemann);
	flags(flow-control);
};</pre>
        </div>
        <p oldrole="para">For a detailed use-case on using <MadCap:variable name="General.abbrev"></MadCap:variable> with the Riemann monitoring system, see the article <a href="http://devops.com/2014/09/02/guide-modern-monitoring-alerting/">A How to Guide on Modern Monitoring and Alerting by Fabien Wernli</a>.</p>
    </body>
</html>