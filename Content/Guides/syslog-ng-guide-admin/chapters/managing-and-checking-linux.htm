<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="managing-and-checking-linux">
        <h1 name="managing-and-checking-linux">Managing and checking <MadCap:variable name="General.OSE" /> service on Linux</h1>
        <p>This section describes how to start, stop and check the status of <MadCap:variable name="General.product" /> (<MadCap:variable name="General.OSE" />) service on Linux.</p>
        <div>
            <h6>Starting <MadCap:variable name="General.OSE" /></h6>
            <p class="procedure">To start <MadCap:variable name="General.OSE" />, execute the following command as root.</p>
            <div class="Example">
                <h6>Example: starting <MadCap:variable name="General.OSE" /></h6>
                <p><b><span class="Code">systemctl start syslog-ng</span></b>
                </p>
            </div>
            <p>If the service starts successfully, no output will be displayed.</p>
            <p>The following message indicates that <MadCap:variable name="General.OSE" /> can not start (see <MadCap:xref href="#check-syslog-ng-status"><span style="color: #04aada;" class="mcFormatColor">Checking <MadCap:variable name="General.OSE" /> status</span></MadCap:xref>):</p>
            <p><span class="Code">Job for syslog-ng.service failed because the control process exited with error code. See <b>systemctl status syslog-ng.service</b> and <b>journalctl -xe</b> for details.</span>
            </p>
        </div>
        <div>
            <h6>Stopping <MadCap:variable name="General.OSE" /></h6>
            <p class="procedure">To stop <MadCap:variable name="General.OSE" /></p>
            <ol>
                <li>Execute the following command as root.			<div class="Example"><h6>Example: command for stopping <MadCap:variable name="General.OSE" /></h6><p><b><span class="Code">systemctl stop syslog-ng</span></b></p></div></li>
                <li>
                    <p>Check the status of <MadCap:variable name="General.OSE" /> service (see <MadCap:xref href="#check-syslog-ng-status"><span style="color: #04aada;" class="mcFormatColor">Checking <MadCap:variable name="General.OSE" /> status</span></MadCap:xref>).</p>
                </li>
            </ol>
        </div>
        <div>
            <h6>Restarting <MadCap:variable name="General.OSE" /></h6>
            <p class="procedure">To restart <MadCap:variable name="General.OSE" />, execute the following command as root.</p>
            <div class="Example">
                <h6>Example: command for restarting <MadCap:variable name="General.OSE" /></h6>
                <p><b><span class="Code">systemctl restart syslog-ng</span></b>
                </p>
            </div>
        </div>
        <div>
            <h6>Reloading configuration file without restarting <MadCap:variable name="General.OSE" /></h6>
            <p class="procedure">To reload the configuration file without restarting <MadCap:variable name="General.OSE" />, execute the following command as root.</p>
            <div class="Example">
                <h6>Example: command for reloading the configuration file without restarting <MadCap:variable name="General.OSE" /></h6>
                <p><b><span class="Code">systemctl reload syslog-ng</span></b>
                </p>
            </div>
        </div>
        <div>
            <h6><a name="check-syslog-ng-status"></a>Checking <MadCap:variable name="General.OSE" /> status</h6>
            <p>To check the following status-related components, observe the suggestions below.</p>
            <ul>
                <li>
                    <p><b>Checking the status of <MadCap:variable name="General.OSE" /> service</b>
                    </p>
                    <p class="procedure">To check the status of <MadCap:variable name="General.OSE" /> service</p>
                    <ol>
                        <li>
                            <p>Execute the following command as root.</p>
                            <div class="Example">
                                <h6>Example: command for checking the status of <MadCap:variable name="General.OSE" /> service</h6>
                                <p><b><span class="Code">systemctl --no-pager status syslog-ng</span></b>
                                </p>
                            </div>
                        </li>
                        <li>
                            <p>Check the <span class="code">Active:</span> field, which shows the status of <MadCap:variable name="General.OSE" /> service. The following statuses are possible:</p>
                            <ul>
                                <li>
                                        <p><b>active (running)</b> - <MadCap:variable name="General.OSE" /> service is up and running</p>
                                    <div class="Example">
                                        <h6>Example: <MadCap:variable name="General.OSE" /> service active</h6><pre>syslog-ng.service - System Logger Daemon
Loaded: loaded (/lib/systemd/system/syslog-ng.service; enabled; vendor preset: enabled)
Active: active (running) since Tue 2019-06-25 08:58:09 CEST; 5s ago
Main PID: 6575 (syslog-ng)
Tasks: 3
Memory: 13.3M
CPU: 268ms
CGroup: /system.slice/syslog-ng.service
6575 /opt/syslog-ng/libexec/syslog-ng -F --no-caps --enable-core</pre>
                                    </div>
                                </li>
                                <li>
                                        <p><b>inactive (dead)</b> - syslog-ng service is stopped</p>
                                    <div class="Example">
                                        <h6>Example: <MadCap:variable name="General.OSE" /> status inactive</h6><pre>syslog-ng.service - System Logger Daemon
Loaded: loaded (/lib/systemd/system/syslog-ng.service; enabled; vendor preset: enabled)
Active: inactive (dead) since Tue 2019-06-25 09:14:16 CEST; 2min 18s ago
Process: 6575 ExecStart=/opt/syslog-ng/sbin/syslog-ng -F --no-caps --enable-core $SYSLOGNG_OPTIONS (code=exited, status=0/SUCCESS)
Main PID: 6575 (code=exited, status=0/SUCCESS)
Status: "Shutting down... Tue Jun 25 09:14:16 2019"
Jun 25 09:14:31 as-syslog-srv systemd: Stopped System Logger Daemon.</pre>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ol>
                </li>
                <li>
                    <p><b>Checking the process of <MadCap:variable name="General.OSE" /></b>
                    </p>
                    <p class="procedure">To check the process of <MadCap:variable name="General.OSE" />, execute one of the following commands.</p>
                    <ul>
                        <li>
                                <div class="Example">
                                    <h6>Example: command ps u `pidof syslog-ng`</h6>
                                    <p><b><span class="Code">ps u `pidof syslog-ng`</span></b>
                                    </p>
                                </div>
                            <p>Expected output example:</p>
                            <p><span class="code">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span></p><p><span class="code">syslogng  6709  0.0  0.6 308680 13432 ?        Ss   09:17   0:00 /opt/syslog-ng/libexec/syslog-ng -F --no-caps --enable-core</span>
                            </p>
                        </li>
                        <li>
                                <div class="Example">
                                    <h6>Example: command ps axu | grep syslog-ng | grep -v grep</h6>
                                    <p><b><span class="Code">ps axu | grep syslog-ng | grep -v grep</span></b>
                                    </p>
                                </div>
                            <p>Expected output example:</p>
                            <p><span class="code">syslogng  6709  0.0  0.6 308680 13432 ?        Ss   09:17   0:00 /opt/syslog-ng/libexec/syslog-ng -F --no-caps --enable-core</span>
                            </p>
                        </li>
                    </ul>
                </li>
                <li>
                    <p><b>Checking the internal logs of <MadCap:variable name="General.OSE" /></b>
                    </p>
                        <p>The internal logs of <MadCap:variable name="General.OSE" /> contains informal, warning and error messages.</p>
                        <p>By default, <MadCap:variable name="General.OSE" /> log messages (generated on the <span class="code">internal()</span> source) are written to <b><span class="Code">/var/log/messages</span></b>.</p>
                        <p>Check the internal logs of <MadCap:variable name="General.OSE" /> for any issue.</p>
                </li>
                <li>
                        <p><a name="stats"></a><b>Message processing</b>
                        </p>
                        <p>The <MadCap:variable name="General.OSE" /> application collects statistics about the number of processed messages on the different sources and destinations.</p>
                    <div class="Note">
                        <p class="Hyphenation"><span class="AllNoteStyles">NOTE:</span> When using <span class="Code">syslog-ng-ctl stats</span>, consider that while the output is generally consistent, there is no explicit ordering behind the command. Consequently, <MadCap:variable name="CommonVariables.CompanyNameShort" /> does not recommend creating parsers that depend on a fix output order.</p>
                        <p class="Hyphenation">If needed, you can sort the output with an external application, for example, <span class="Code">| sort</span>.</p>
                    </div>
                    <ul>
                        <li>
                            <p><b>Central statistics</b>
                            </p>
                            <p class="procedure">To check the central statistics, execute the following command to see the number of received and queued (sent) messages by <MadCap:variable name="General.OSE" />.</p>
                            <div class="Example">
                                <h6>Example: command for checking central statistics</h6>
                                <p><b><span class="Code">watch "/opt/syslog-ng/sbin/syslog-ng-ctl stats | grep ^center"</span></b>
                                </p>
                            </div>
                            <p>The output will be updated in every 2 seconds.</p>
                            <p>If the numbers are changing, <MadCap:variable name="General.OSE" /> is processing the messages.</p>
                            <div class="Example">
                                <h6>Example: output example </h6><pre>Every 2.0s: /opt/syslog-ng/sbin/syslog-ng-ctl stats | grep ^center       Tue Jun 25 10:33:25 2019
center;;queued;a;processed;112
center;;received;a;processed;28</pre>
                            </div>
                        </li>
                        <li>
                            <p><b>Source statistics</b>
                            </p>
                            <p class="procedure">To check the source statistics, execute the following command to see the number of received messages on the configured sources.</p>
                            <div class="Example">
                                <h6>Example: command for checking central statistics</h6>
                                <p><b><span class="Code">watch "/opt/syslog-ng/sbin/syslog-ng-ctl stats | grep ^source"</span></b>
                                </p>
                            </div>
                            <p>The output will be updated in every 2 seconds.</p>
                            <p>If the numbers are changing, <MadCap:variable name="General.OSE" /> is receiving messages on the sources.</p>
                            <div class="Example">
                                <h6>Example: output example </h6><pre>Every 2.0s: /opt/syslog-ng/sbin/syslog-ng-ctl stats | grep ^source      Tue Jun 25 10:40:50 2019
source;s_null;;a;processed;0
source;s_net;;a;processed;0
source;s_local;;a;processed;90</pre>
                            </div>
                        </li>
                        <li>
                            <p><b>Destination statistics</b>
                            </p>
                            <p class="procedure">To check the source statistics, execute the following command to see the number of received messages on the configured sources.</p>
                            <div class="Example">
                                <h6>Example: command for checking destination statistics</h6>
                                <p><b><span class="Code">watch "/opt/syslog-ng/sbin/syslog-ng-ctl stats | grep ^source"</span></b>
                                </p>
                            </div>
                            <p>The output will be updated in every 2 seconds.</p>
                            <p>If the numbers are changing, <MadCap:variable name="General.OSE" /> is receiving messages on the sources.</p>
                            <div class="Example">
                                <h6>Example: output example </h6><pre>Every 2.0s: /opt/syslog-ng/sbin/syslog-ng-ctl stats | grep ^destination      Tue Jun 25 10:41:02 2019
destination;d_logserver2;;a;processed;90
destination;d_messages;;a;processed;180
destination;d_logserver;;a;processed;90
destination;d_null;;a;processed;0</pre>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="Note">
            <p class="Hyphenation"><span class="AllNoteStyles">NOTE:</span>If you find error messages in the internal logs, messages are not processed by <MadCap:variable name="General.OSE" /> or you encounter any issue, you have the following options:</p><ul><li>Search for the error or issue in our <a href="https://support.oneidentity.com/syslog-ng-premium-edition/kb">knowledge base</a>.</li><li>Check the <a href="https://support.oneidentity.com/syslog-ng-premium-edition/kb?k=troubleshooting&amp;r=Topic%3ATroubleshooting">following knowledge base articles</a> for further troubleshooting.</li><li><a href="https://support.oneidentity.com/">Open a support service request</a> including the results.</li></ul>
        </div>
    </body>
</html>