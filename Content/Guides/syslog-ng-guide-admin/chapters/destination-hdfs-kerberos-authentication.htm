<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="destination-hdfs-kerberos-authentication" oldrole="section">
        <h1 name="destination-hdfs-kerberos-authentication"><a name="destination-hdfs-kerberos-authentication"></a>Kerberos authentication with syslog-ng hdfs() destination</h1>
        <p>Version <MadCap:conditionaltext MadCap:conditions="General.ose">3.10</MadCap:conditionaltext><MadCap:conditionaltext MadCap:conditions="General.pe">7.0.3</MadCap:conditionaltext> and later supports Kerberos authentication to authenticate the connection to your Hadoop cluster. <MadCap:variable name="General.abbrev"></MadCap:variable> assumes that you already have a Hadoop and Kerberos infrastructure.</p>
        <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
            </col>
            <tbody>
                <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                        <p>
                            <img src="../../../Resources/Images/Common/note.png" />
                        </p>
                    </td>
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                        <p>If you configure Kerberos authentication for a <span class="Code" oldrole="parameter">hdfs()</span> destination, it affects all <span class="Code" oldrole="parameter">hdfs()</span> destinations. Kerberos and non-Kerberos <span class="Code" oldrole="parameter">hdfs()</span> destinations cannot be mixed in a <MadCap:variable name="General.abbrev"></MadCap:variable> configuration. This means that if one <span class="Code" oldrole="parameter">hdfs()</span> destination uses Kerberos authentication, you have to configure all other <span class="Code" oldrole="parameter">hdfs()</span> destinations to use Kerberos authentication too.</p>
                        <p>Failing to do so results in non-Kerberos <span class="Code" oldrole="parameter">hdfs()</span> destinations being unable to authenticate to the HDFS server.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
            </col>
            <tbody>
                <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                        <p>
                            <img src="../../../Resources/Images/Common/note.png" />
                        </p>
                    </td>
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                        <p>If you want to configure your <span class="Code" oldrole="parameter">hdfs()</span> destination to stop using Kerberos authentication, namely, to remove Kerberos-related options from the <span class="Code" oldrole="parameter">hdfs()</span> destination configuration, make sure to restart <MadCap:variable name="General.abbrev"></MadCap:variable> for the changes to take effect.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div>
            <h6 oldrole="formalpara">Prerequisites</h6>
            <ul oldrole="itemizedlist">
                <li oldrole="listitem">
                    <p oldrole="para">You have configured your Hadoop infrastructure to use Kerberos authentication.</p>
                </li>
                <li oldrole="listitem">
                    <p oldrole="para">You have a keytab file and a principal for the host running <MadCap:variable name="General.abbrev"></MadCap:variable>.</p>
                </li>
                <li oldrole="listitem">
                    <p oldrole="para">You have installed and configured the Kerberos client packages on the host running <MadCap:variable name="General.abbrev"></MadCap:variable>. (That is, Kerberos authentication works for the host, for example, from the command line using the <span class="Code" oldrole="command">kinit user@REALM -k -t &lt;keytab_file&gt;</span> command.)</p>
                </li>
            </ul>
        </div>
        <MadCap:snippetBlock src="../../shared/chunk/synopsis-hdfs-kerberos-example.htm">
        </MadCap:snippetBlock>
    </body>
</html>