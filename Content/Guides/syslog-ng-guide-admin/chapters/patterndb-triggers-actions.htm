<?xml version="1.0" encoding="utf-8"?>
<!-- FIXME find a better title -->
<!-- FIXME describe the various ways patterndb can be used: message classification and tagging, content extraction, message correlation, ... -->
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="patterndb-triggers-actions" oldrole="section">
        <h1 name="patterndb-triggers-actions">Triggering actions for identified messages</h1>
        <MadCap:keyword term="alerting">
        </MadCap:keyword>
        <MadCap:keyword term="actions">
        </MadCap:keyword>
        <MadCap:keyword term="secondary messages">
        </MadCap:keyword>
        <MadCap:keyword term="generating alerts">
        </MadCap:keyword>
        <MadCap:keyword term="triggers">
        </MadCap:keyword>
        <MadCap:keyword term="triggered messages">
        </MadCap:keyword>
        <MadCap:keyword term="message triggers">
        </MadCap:keyword>
        <p oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application can generate (trigger) messages automatically if certain events occur, for example, a specific log message is received, or the correlation timeout of a message expires. Basically, you can define messages for every pattern database rule that are emitted when a message matching the rule is received. Triggering messages is often used together with message correlation, but can also be used separately. When used together with message correlation, you can also create a new correlation context when a new message is received.</p>
        <MadCap:keyword term="inject-mode">
        </MadCap:keyword>
        <p oldrole="para">The generated message is injected into the same place where the <span class="Code" oldrole="parameter">db-parser()</span> statement is referenced in the log path. To post the generated message into the <span class="Code" oldrole="parameter">internal()</span> source instead, use the <span class="Code" oldrole="parameter">inject-mode()</span> option in the definition of the parser.</p>
        <div class="Example">
            <h6 oldrole="example">Example: Sending triggered messages to the <span class="Code" oldrole="parameter">internal()</span> source</h6>
            <p oldrole="para">To send the generated messages to the <span class="Code" oldrole="parameter">internal</span> source, use the <span class="Code" oldrole="userinput">inject-mode(internal)</span> option:</p><pre class="Code" oldrole="synopsis">parser p_db {db-parser(
    file("mypatterndbfile.xml")
    inject-mode(internal)
);}; </pre>
            <p oldrole="para">To inject the generated messages where the pattern database is referenced, use the <span class="Code" oldrole="userinput">inject-mode(pass-through)</span> option:</p><pre class="Code" oldrole="synopsis">parser p_db {db-parser(
    file("mypatterndbfile.xml")
    inject-mode(pass-through)
);}; </pre>
        </div>
        <p oldrole="para">The generated message must be configured in the pattern database rule. It is possible to create an entire message, use macros and values extracted from the original message with pattern database, and so on.</p>
        <MadCap:snippetBlock src="../../shared/chunk/example-patterndb-actions.htm">
        </MadCap:snippetBlock>
        <div class="Example">
            <h6 oldrole="example">Example: Creating a new context from an action</h6>
            <p oldrole="para">In <MadCap:variable name="General.abbrev"></MadCap:variable> version <MadCap:conditionaltext MadCap:conditions="General.ose">3.8</MadCap:conditionaltext><MadCap:conditionaltext MadCap:conditions="pe">7</MadCap:conditionaltext> and newer, you can create a new context as an action. For details, see <MadCap:xref href="#element-patterndb-create-context"></MadCap:xref>.</p>
            <MadCap:snippetBlock src="../../shared/chunk/example-create-context-action.htm">
            </MadCap:snippetBlock>
        </div>
        <p oldrole="para">For details on configuring actions, see the description of the <a href="">pattern database format</a>.</p>
    </body>
</html>