<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="procedure-rltp-concepts" oldrole="procedure">
        <h1 name="procedure-rltp-concepts"><a name="procedure-rltp-concepts"></a>How <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> connections work</h1>
        <MadCap:keyword term="RLTP">
        </MadCap:keyword>
        <MadCap:keyword term="log transfer protocol:['reliable']">
        </MadCap:keyword>
        <MadCap:keyword term="transport:['TCP']">
        </MadCap:keyword>
        <h6 oldrole="formalpara" MadCap:conditions="CommonConditions_DoNotEdit.DoNotPublish">Purpose</h6>
        <p oldrole="para">This procedure summarizes how two <MadCap:variable name="General.abbrev"></MadCap:variable> hosts (a sender and a receiver) communicate using the <MadCap:variable name="syslogngPEVariables.RLTP" /> (<MadCap:variable name="syslogngPEVariables.RLTPUppercase" />).</p>
        <div>
            <h6 oldrole="formalpara">Prerequisites</h6>
            <p oldrole="para">The sender (also called the client) is the host that has <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> configured in its destination driver. The receiver (also called the server) is the host that has <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> configured in its source driver.</p>
        </div>
        <div>
            <h6 oldrole="formalpara" MadCap:conditions="CommonConditions_DoNotEdit.DoNotPublish">Steps</h6>
            <ol oldrole="procedure">
                <li oldrole="step">
                    <p>The sender initiates the connection to the receiver.</p>
                </li>
                <li oldrole="step">
                    <p>The sender and the receiver negotiate whether to encrypt the connection and to use compression or not.</p>
                </li>
                <li oldrole="step">
                    <p>If the connection should be encrypted, the sender and the receiver perform authentication (as configured in the <span class="Code" oldrole="parameter">tls()</span> options of their configuration).</p>
                </li>
                <li oldrole="step">
                    <p>If the sender and the receiver have communicated earlier using <MadCap:variable name="syslogngPEVariables.RLTPUppercase" />, the receiver indicates which was the last message received from the sender.</p>
                </li>
                <li oldrole="step">
                    <p>The sender starts sending messages in batches. Batch size depends on the <span class="Code" oldrole="parameter">batch-size()</span> parameter of the sender.</p>
                    <p>For optimal performance when sending messages to a <MadCap:variable name="General.abbrev" /> server, make sure that the <span class="Code" oldrole="parameter">batch-size()</span> is smaller than the window size set using the <span class="Code" oldrole="parameter">log-iw-size()</span> option in the source of your server.</p>
                </li>
                <li oldrole="step">
                    <p>When the receiver has successfully processed the messages in the batch, it sends an acknowledgment of the processed messages to the sender.</p>
                    <p>What "successfully processed" means depends on the configuration of the receiver, for example, written to disk in a destination, forwarded to a remote destination using <i oldrole="emphasis">not</i> <MadCap:variable name="syslogngPEVariables.RLTPUppercase" />, dropped because of filter settings, or written to the disk-buffer. (If the messages are forwarded using <MadCap:variable name="syslogngPEVariables.RLTPUppercase" />, see <MadCap:xref href="rltp-client-simplesect--server.htm"><span style="color: #04aada;" class="mcFormatColor">Using [%=syslogngPEVariables.RLTPUppercase%] in a client-relay-server scenario</span></MadCap:xref>.)</p>
                </li>
                <li oldrole="step">
                    <p>After receiving the acknowledgment, the sender sends another batch of messages.</p>
                </li>
            </ol>
        </div>
    </body>
</html>