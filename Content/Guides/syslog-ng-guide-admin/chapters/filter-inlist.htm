<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <body name="filter-inlist" oldrole="simplesect">
        <h6>inlist()</h6>
        <MadCap:keyword term="inlist()">
        </MadCap:keyword>
        <MadCap:keyword term="filters:['blacklisting']">
        </MadCap:keyword>
        <MadCap:keyword term="filters:['whitelisting']">
        </MadCap:keyword>
        <MadCap:keyword term="filters:['in-list()']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Synopsis: 

                    </td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">in-list("&lt;/path/to/file.list&gt;", value("&lt;field-to-filter&gt;"))</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> Matches the value of the specified field to a list stored in a file, allowing you to do simple, file-based black- and whitelisting. The file must be a plain-text file, containing one entry per line. The <MadCap:variable name="General.abbrev"></MadCap:variable> application loads the entire file, and compares the value of the specified field (for example, ${PROGRAM}) to entries in the file. When you use the <span class="Code" oldrole="parameter">in-list filter</span>, note the following points:</p>
        <ul oldrole="itemizedlist">
            <li oldrole="listitem">
                <p oldrole="para">Comparing the values is case-sensitive.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">Only exact matches are supported, partial and substring matches are not.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">If you modify the list file, reload the configuration of <MadCap:variable name="General.abbrev"></MadCap:variable> for the changes to take effect.</p>
            </li>
        </ul>
        <p oldrole="para">Available in <MadCap:variable name="General.abbrev"></MadCap:variable> <MadCap:conditionaltext MadCap:conditions="General.ose">3.5</MadCap:conditionaltext> and later.</p>
        <div class="Example">
            <h6 name="example-whitelist-filter" oldrole="example">Example: Selecting messages using the in-list filter</h6>
            <p oldrole="para">Create a text file that contains the programs (as in the ${PROGRAM} field of their log messages) you want to select. For example, you want to forward only the logs of a few applications from a host: kernel, sshd, and sudo. Create the <span class="Code" oldrole="filename">/etc/syslog-ng/programlist.list</span> file with the following contents:</p><pre class="Code" oldrole="synopsis">kernel
sshd
sudo</pre>
            <p oldrole="para">The following filter selects only the messages of the listed applications:</p><pre class="Code" oldrole="synopsis">filter f_whitelist { in-list("/etc/syslog-ng/programlist.list", value("PROGRAM")); };</pre>
            <p oldrole="para">Create the appropriate sources and destinations for your environment, then create a log path that uses the previous filter to select only the log messages of the applications you need:</p><pre class="Code" oldrole="synopsis">log {
    source(s_all);
    filter(f_whitelist);
    destination(d_logserver); };</pre>
            <p oldrole="para">To create a blacklist filter, simply negate the <span class="Code" oldrole="parameter">in-list</span> filter:</p><pre class="Code" oldrole="synopsis">filter f_blacklist { not in-list("/etc/syslog-ng/programlist.list", value("PROGRAM")); };</pre>
        </div>
    </body>
</html>