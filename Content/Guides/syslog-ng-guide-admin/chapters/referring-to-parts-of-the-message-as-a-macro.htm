<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body oldrole="section">
        <h1>Referring to parts of the message as a macro</h1>
        <p>You can refer to the separated parts of the message using the key of the value as a macro. For example, if the message contains <span class="Code" oldrole="userinput">KEY1=value1,KEY2=value2</span>, you can refer to the values as <span class="Code" oldrole="userinput">${KEY1}</span> and <span class="Code" oldrole="userinput">${KEY2}</span>.</p>
        <p>For example if the default prefix (<span class="Code" oldrole="userinput">.geoip2</span>) is used, you can determine the country code using <span class="Code" oldrole="command">${.geoip2.country.iso_code}</span>.</p>
        <p>To look up all keys:</p>
        <ol oldrole="orderedlist">
            <li oldrole="listitem">
                <p>Install the <span class="Code" oldrole="command">mmdb-bin</span> package.</p>
                <p>After installing this package, you will be able to use the <span class="Code" oldrole="command">mmdblookup</span> command.</p>
                <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
                    </col>
                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
                    </col>
                    <tbody>
                        <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                                <p>
                                    <img src="../../../Resources/Images/Common/note.png" />
                                </p>
                            </td>
                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                                <p>The name of the package depends on the Linux distribution. The package mentioned in this example is on Ubuntu.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </li>
            <li oldrole="listitem">
                <p>Create a dump using the following command: <span class="Code" oldrole="command">mmdblookup --file GeoLite2-City.mmdb --ip &lt;your-IP-address&gt;</span></p>
                <p>The resulting dump file will contain the keys that you can use.</p>
            </li>
        </ol>
        <p>For a more complete list of keys, you can also check the <a href="https://dev.maxmind.com/geoip/geoip2/geoip2-city-country-csv-databases/">GeoIP2 City and Country CSV Databases</a>. However, note that the <MadCap:variable name="General.abbrev"></MadCap:variable> application works with the <span class="Code" oldrole="filename">mmdb</span> (GeoIP2) format of these databases. Other formats, like <span class="Code" oldrole="filename">csv</span> are not supported.</p>
    </body>
</html>