<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="source-monitoring-welf">
        <h1 name="source-monitoring-welf">The monitoring-welf() source</h1>
        <p>This source is actually preconfigured <span class="Code" oldrole="parameter">monitoring()</span> source that generates statistics messages in WELF format. Starting with <MadCap:conditionaltext MadCap:conditions="General.abbrev"><MadCap:variable name="General.abbrev"></MadCap:variable> version 7.0.2</MadCap:conditionaltext>, <MadCap:variable name="General.abbrev"></MadCap:variable> uses this driver for new installations to generate statistics. By default, a message is sent every 10 minutes (600 seconds).</p><pre>@version: <MadCap:variable name="Version.configversion"></MadCap:variable>
@include 'scl.conf'
options {
    stats_level(3);
};

source s_monitoring_welf {
    monitoring-welf(freq(10) query('*'));
};

destination d_file {
    file("/tmp/output.txt");
};

log {
    source(s_monitoring_welf);
    destination(d_file);
};</pre>
        <p>The output is similar to the following:</p><pre>[2021-09-02T14:05:16.520260] Outgoing message; message='Sep 2 14:05:16 test-host syslog-ng[73205]: PID=73205 PROGRAM=syslog-ng center.queued.processed=3 center.received.processed=3 destination.d_file.processed=3 dst.file.d_file#0./tmp/output.txt.dropped=0 dst.file.d_file#0./tmp/output.txt.eps_last_1h=0 dst.file.d_file#0./tmp/output.txt.eps_last_24h=0 dst.file.d_file#0./tmp/output.txt.eps_since_start=0 dst.file.d_file#0./tmp/output.txt.memory_usage=0 dst.file.d_file#0./tmp/output.txt.msg_size_avg=2221 dst.file.d_file#0./tmp/output.txt.msg_size_max=2602 dst.file.d_file#0./tmp/output.txt.processed=3 dst.file.d_file#0./tmp/output.txt.queued=0 dst.file.d_file#0./tmp/output.txt.truncated_bytes=0 dst.file.d_file#0./tmp/output.txt.truncated_count=0 dst.file.d_file#0./tmp/output.txt.written=3 global.msg_allocated_bytes.value=1056 global.msg_clones.processed=0 global.payload_reallocs.processed=15 global.scratch_buffers_bytes.queued=24576 global.scratch_buffers_count.queued=140 global.sdata_updates.processed=0 source.s_monitoring_welf.processed=3 src.facility'</pre><pre xml:space="preserve">Apr 3 14:03:26 example-host syslog-ng[12363]: PID=12363 PROGRAM=syslog-ng center.queued.processed=0 center.received.processed=0 destination.d_file.processed=0 global.msg_clones.processed=0 global.payload_reallocs.processed=2 global.sdata_updates.processed=0 source.s_monitoring_welf.processed=0 src.facility.0.processed=0 src.facility.1.processed=0 src.facility.10.processed=0 src.facility.11.processed=0 src.facility.12.processed=0 src.facility.13.processed=0 src.facility.14.processed=0 src.facility.15.processed=0 src.facility.16.processed=0 src.facility.17.processed=0 src.facility.18.processed=0 src.facility.19.processed=0 src.facility.2.processed=0 src.facility.20.processed=0 src.facility.21.processed=0 src.facility.22.processed=0 src.facility.23.processed=0 src.facility.3.processed=0 src.facility.4.processed=0 src.facility.5.processed=0 src.facility.6.processed=0 src.facility.7.processed=0 src.facility.8.processed=0 src.facility.9.processed=0 src.facility.other.processed=0 src.monitoring.s_monitoring_welf#0.processed=0 src.monitoring.s_monitoring_welf#0.stamp=0 src.severity.0.processed=0 src.severity.1.processed=0 src.severity.2.processed=0 src.severity.3.processed=0 src.severity.4.processed=0 src.severity.5.processed=0 src.severity.6.processed=0 src.severity.7.processed=0\x0a'</pre>
    </body>
</html>