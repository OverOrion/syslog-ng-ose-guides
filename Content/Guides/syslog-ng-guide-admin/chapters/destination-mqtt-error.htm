<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="" />
    </head>
    <body name="destination-mqtt-error">
        <h1 name="destination-mqtt-error">Possible error messages you may encounter while using the mqtt() destination</h1>
        <p>While using the <span class="Code">mqtt()</span> destination, you may encounter issues and corresponding error messages originating from the MQTT system. The following table contains the error messages you may encounter, the possible reasons behind them, and potential workaround methods. 
        </p>
        <div>
            <table cellspacing="0" class="TableStyle-RuledTableWithHeading_DoNotEdit" colsep="0" role="api-codes" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
                <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 266px;">
                </col>
                <col style="width: 272px;" class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" />
                <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" />
                <thead>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Head-Header1">
                        <th class="TableStyle-RuledTableWithHeading_DoNotEdit-HeadE-Column1-Header1">Complete error message</th>
                        <th class="TableStyle-RuledTableWithHeading_DoNotEdit-HeadE-Column1-Header1">Possible reason(s)</th>
                        <th class="TableStyle-RuledTableWithHeading_DoNotEdit-HeadD-Column1-Header1">Possible solution(s)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1"><pre>"ERROR, while init threaded dest. ..."</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                                <p>The <MadCap:variable name="General.abbrev" /> application will not start.</p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                                <p>You can try the following methods:</p>
                                <ul>
                                    <li>
                                        <p>Restart <MadCap:variable name="General.abbrev" />.</p>
                                    </li>
                                    <li>
                                        <p>Stop some of the programs running on your computer.</p>
                                    </li>
                                    <li>
                                        <p>Restart your computer, and then restart <MadCap:variable name="General.abbrev" />.</p>
                                    </li>
                                </ul>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1"><pre>"mqtt: the topic() argument is required for mqtt destinations. ..."</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p>The <span class="Code">topic()</span> option is not set in your configuration. The <MadCap:variable name="General.abbrev" /> application will not start.</p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                                <p>Set the missing <span class="Code">topic()</span> option in your configuration, then restart .
                                </p>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1"><pre>"The mqtt destination does not support the batching of messages, ..."</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                                <p>Your configuration may contain the <span class="Code">batch-timeout()</span> and / or <span class="Code">batch-lines()</span> options, which are not supported by the <span class="Code">mqtt()</span> destination. The <MadCap:variable name="General.abbrev" /> application will not start.</p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                                <p>If your configuration contains the <span class="Code">batch-timeout()</span> and / or <span class="Code">batch-lines()</span> options, remove them from your configuration, and restart .</p>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1"><pre>"Disconnected during publish!"</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                                <p>The <MadCap:variable name="General.abbrev" /> application can not send the message, because <MadCap:variable name="General.abbrev" /> disconnected from the broker. By default, <MadCap:variable name="General.abbrev" /> attempts to reconnect to the broker and send the messages 3 times. </p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                                <p>If <MadCap:variable name="General.abbrev" /> fails all 3 attempts to reconnect to the broker and send the messages, you can try checking your configuration or restarting your MQTT system with <MadCap:variable name="General.abbrev" /> as a client.</p>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1"><pre>"Max message inflight! (publish)"</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                                <p>The <MadCap:variable name="General.abbrev" /> application can not send the message due to the <span class="Code">max message inflight</span> broker response code (which signals that the broker has received too many messages, and it needs more time to process them). The <MadCap:variable name="General.abbrev" /> application will attempt to resend the message.<br /><br /></p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                                <p>Wait until the broker can process the in-flight messages and <MadCap:variable name="General.abbrev" /> can attempt to resend the message.</p>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <pre>"Failure during publishing!"</pre>

                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p>The <MadCap:variable name="General.abbrev" /> application can not send the message due to the  <span class="Code">failure</span> broker response code. The <MadCap:variable name="General.abbrev" /> application will attempt  to resend the message.<br /><br /></p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                                <p>N/A</p>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <pre>"Error during publish!"</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p>The <MadCap:variable name="General.abbrev" /> application can not send the message, and drops it.</p>
                            <p>
                                Possible reason: <span class="Code">bad_utf8_string (topic), NULL parameter</span>.</p>
                            <p>That is, the most probable reasons behind this issue are either that the topic name in your configuration is not correct, or that the message field is empty.</p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                            <p>You can try the following methods:</p><ul><li><p>Modify the name of the <span class="Code">topic()</span> option in your configuration.</p></li><li><p>Make sure that the message field is not empty.</p></li></ul>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
<pre>"Disconnected while waiting the response!"</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p>The <MadCap:variable name="General.abbrev" /> application has sent the message, but the client disconnected from the broker before <MadCap:variable name="General.abbrev" /> received the response. The <MadCap:variable name="General.abbrev" /> application will attempt to reconnect, or to resend the message.</p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                            <p class="TableHyphen">The <MadCap:variable name="General.abbrev" /> application will attempt to reconnect to the broker and send the in-flight message. If the reconnect attempt fails, <MadCap:variable name="General.abbrev" /> will resend the message.</p>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p class="TableHyphen"><pre>"Error while waiting the response!"</pre>
                            </p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p>The <MadCap:variable name="General.abbrev" /> application can not get any response from the broker, due to the <span class="Code">failure</span> broker response code. The <MadCap:variable name="General.abbrev" /> will attempt to  resend the message.</p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">
                            <p class="TableHyphen">In this case, you will receive a further error message, depending on what the problem is. Wait for the second error message for more information about how you can proceed. </p>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p class="TableHyphen"><pre>"Error constructing topic ..."</pre>
                            </p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p>Due to an issue with the configured topic template, the <span class="Code">mqtt()</span> destination will  use the <span class="Code">fallback-topic()</span> option instead.<br /><br /></p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">N/A</td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <pre>"mqtt dest: topic name is illegal, it can't be empty"</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p>This error message is related to the <span class="Code">"Error constructing topic ..."</span> error message. <br /><br />In this case, the topic template returns a <span class="Code">0</span> length string. As a result, the <span class="Code">mqtt()</span> destination will use the <span class="Code">fallback-topic()</span> option instead.</p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">N/A
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <pre>"Error connecting mqtt client ..."</pre>

                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">
                            <p class="TableHyphen">The <MadCap:variable name="General.abbrev" /> application can not connect to broker, and it will attempt to reconnect later.</p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1" style="font-weight: bold;">
                            <p class="TableHyphen" style="font-weight: normal;">If the issue persists, you can try the following:
                            </p>
                            <ul>
                                <li>
                                    <p style="font-weight: normal;">Update your <span class="Code">eclipse-paho-mqtt-c</span> library.</p>
                                </li>
                                <li>
                                    <p style="font-weight: normal;">Restart <MadCap:variable name="General.abbrev" />.</p>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyB-Column1-Body1">
                            <pre>"Error creat mqtt client ..."</pre>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyB-Column1-Body1">
                            <p class="TableHyphen">The <MadCap:variable name="General.abbrev" /> application encountered an error while creating the MQTT client, and it will attempt to create it later.</p>
                            <p>Possible reasons:</p><ul><li><p>There is a wrong <span class="Code">address()</span> set in your configuration.</p></li><li><p>The broker is not running.</p></li></ul>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyA-Column1-Body1" style="font-weight: bold;">
                            <p style="font-weight: normal;">You can try the following methods:
                            </p>
                            <ul>
                                <li>
                                    <p style="font-weight: normal;">Check the <span class="Code">address()</span> option in your configuration, and modify if necessary.</p>
                                </li>
                                <li>
                                    <p style="font-weight: normal;">Check if the specified broker is running by connecting to it manually, and then sending the broker a message.</p>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>