<?xml version="1.0" encoding="utf-8"?>
<!-- FIXME jumplist -->
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="concepts-rltp" oldrole="section" MadCap:conditions="syslogngPE.pe">
        <h1 name="concepts-rltp">Logging using <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /></h1>
        <MadCap:keyword term="RLTP">
        </MadCap:keyword>
        <MadCap:keyword term="log transfer protocol:['reliable']">
        </MadCap:keyword>
        <MadCap:keyword term="transport:['TCP']">
        </MadCap:keyword>
        <MadCap:snippetBlock src="../../shared/wnt/warning-rltp-source-only.htm">
        </MadCap:snippetBlock>
        <p name="para-rltp-intro" oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application can send and receive log messages in a reliable way over the TCP transport layer using the <MadCap:variable name="syslogngPEVariables.RLTP" /> (<MadCap:variable name="syslogngPEVariables.RLTPUppercase" />). <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> is a proprietary transport protocol that prevents message loss during connection breaks. The transport is used between <MadCap:variable name="General.abbrev"></MadCap:variable> hosts (for example, a client and a server, or a client-relay--server), and interoperates with the flow-control and reliable disk-buffer mechanisms of <MadCap:variable name="General.abbrev"></MadCap:variable>, thus providing the best way to prevent message loss. The sender detects which messages has the receiver successfully received. If messages are lost during the transfer, the sender resends the missing messages, starting from the last successfully received message. Therefore, messages are not duplicated at the receiving end in case of a connection break (however, in failover mode this is not completely ensured). <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> also allows to receive encrypted and non-encrypted connections on the same port, using a single source driver.</p>
        <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
            </col>
            <tbody>
                <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                        <p>
                            <img src="../../../Resources/Images/Common/note.png" />
                        </p>
                    </td>
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                        <p oldrole="para">Because of the communication overhead, the <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> protocol is slower than other transport protocols, which might be a problem if you need to collect a high amount (over 200000 messages per second) of log messages on your log server. For performance details of <MadCap:variable name="General.abbrev"></MadCap:variable> see the <i oldrole="emphasis">syslog-ng Premium Edition Performance Guideline</i> at the <MadCap:variable name="General.doc-site"></MadCap:variable>.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
            <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
            </col>
            <tbody>
                <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                        <p>
                            <img src="../../../Resources/Images/Common/note.png" />
                        </p>
                    </td>
                    <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                        <p oldrole="para">Make sure that you have set the value of the <span class="Code" oldrole="parameter">log_msg_size()</span> parameter large enough in your configuration. If its size is less than the size of the sent messages, it might result in disk fill-up and no incoming logs.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <table cellspacing="0" class="TableStyle-NoteTable_Yellow_DoNotEdit" oldrole="warning" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Yellow_DoNotEdit.css');">
            <col class="TableStyle-NoteTable_Yellow_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
            <col class="TableStyle-NoteTable_Yellow_DoNotEdit-Column-Column2">
            </col>
            <tbody>
                <tr class="TableStyle-NoteTable_Yellow_DoNotEdit-Body-Body1">
                    <td class="TableStyle-NoteTable_Yellow_DoNotEdit-BodyB-Column1-Body1">
                        <p>
                            <img src="../../../Resources/Images/Common/caution.png" />
                        </p>
                    </td>
                    <td class="TableStyle-NoteTable_Yellow_DoNotEdit-BodyA-Column2-Body1"><span class="Yellow">Caution: </span>
                        <MadCap:snippetBlock src="../../shared/chunk/rltp-losing-messages.htm">
                        </MadCap:snippetBlock>
                    </td>
                </tr>
            </tbody>
        </table>
        <p oldrole="para">The <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> protocol works on top of TCP, and can use STARTTLS for encryption. <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> supports IPv4 and IPv6 addresses. Inside the <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> message, the message can use any format, for example, RFC3164 (BSD-syslog) or RFC5424 (IETF-syslog). The default port of <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> is <span class="Code" oldrole="userinput">35514</span>.</p>
        <p oldrole="para"><MadCap:variable name="syslogngPEVariables.RLTPUppercase" /> can be added to the configuration like a transport protocol within the <span class="Code" oldrole="parameter">syslog()</span> driver and the <span class="Code" oldrole="parameter">network()</span> driver.</p>
    </body>
</html>