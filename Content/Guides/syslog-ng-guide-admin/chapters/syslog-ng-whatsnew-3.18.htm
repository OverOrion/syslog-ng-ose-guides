<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="syslog-ng_whatsnew" MadCap:conditions="General.archive">
        <p>Version <MadCap:variable name="Version.version" /> of <MadCap:variable name="General.product" /> includes the following main features.</p>
        <div>
            <h6>Batch support in the http() destination driver</h6>
            <p>The <span class="Code" oldrole="parameter">http()</span> destination can now send a batch of log messages in a single HTTP request, greatly improving the performance. In addition, this feature also allows you to post proper JSON-encoded arrays as POST payloads, which is required by several REST APIs. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="configuring-destinations-http-nonjava.htm"></a>.</p>
        </div>
        <div>
            <h6>Write your own destination in Python</h6>
            <p>Extending <MadCap:variable name="General.abbrev"></MadCap:variable> in Python has been supported for several releases, but so far this feature was mostly undocumented. Now you can find more details about this feature in <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="python-destination"></a>.</p>
        </div>
        <div>
            <h6>Write your own message source in Python</h6>
            <p>Starting with <MadCap:variable name="General.abbrev"></MadCap:variable> version <MadCap:conditionaltext MadCap:conditions="General.OSE">3.18</MadCap:conditionaltext><MadCap:conditionaltext MadCap:conditions="General.PE">7.0.11</MadCap:conditionaltext>, you can write custom message sources in Python. Both server-style and fetcher-style sources are supported. For more details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="python-source"></a> and <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="python-fetcher-source"></a>.</p>
        </div>
        <div>
            <h6>Enhancements</h6>
            <ul>
                <li>
                    <p>When <span class="Code" oldrole="parameter">hdfs-append-enabled</span> is set to <span class="Code" oldrole="userinput">true</span>, <MadCap:variable name="General.abbrev"></MadCap:variable> will append new data to the end of an already existing HDFS file. Note that in this case, archiving is automatically disabled, and <MadCap:variable name="General.abbrev"></MadCap:variable> will ignore the <span class="Code" oldrole="parameter">hdfs-archive-dir</span> option.</p>
                </li>
                <li>
                    <p>The hdfs destination now supports the <span class="Code" oldrole="parameter">time-reap()</span> option.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="parameter">urlencode()</span> template function has been renamed to <span class="Code" oldrole="parameter">url-encode()</span>. Also, the <span class="Code" oldrole="parameter">telegram()</span> destination now automatically encodes the messages.</p>
                </li>
                <li>
                    <p>New template functions are available: <span class="Code" oldrole="parameter">url-decode()</span> and <span class="Code" oldrole="parameter">base64-encode()</span>. For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="reference-template-functions"></a>.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="command">syslog-ng-ctl config</span> command can display the contents of the configuration file that <MadCap:variable name="General.abbrev"></MadCap:variable> is currently running.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="parameter">rekey</span> option of <span class="Code" oldrole="parameter">value-pairs()</span> now supports a new transformation: <span class="Code" oldrole="parameter">shift-levels</span>. It cuts dot-delimited "levels" in the name (including the initial dot). For example, <span class="Code" oldrole="userinput">--shift-levels 2</span> deletes the prefix up to the second dot in the name of the key: <span class="Code" oldrole="userinput">.iptables.SRC</span> becomes <span class="Code" oldrole="userinput">SRC</span></p>
                    <p>For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="option-value-pairs"></a>.</p>
                </li>
                <li>
                    <p>The <span class="Code" oldrole="parameter">value-pairs()</span> option now has a new scope: <span class="Code" oldrole="parameter">none</span>. This scope resets previously added scopes, making it possible to get remove automatically added name-value pairs from the scope.</p>
                    <p>For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="option-value-pairs"></a>.</p>
                </li>
                <li>
                    <p>When receiving messages with the <span class="Code" oldrole="parameter">default-network-drivers()</span> source, <MadCap:variable name="General.abbrev"></MadCap:variable> now automatically sets the <span class="Code" oldrole="parameter">${.app.name}</span> name-value pair to the name of the application that sent the log message.</p>
                    <p>For details, see <a role="olink" targetdoc="syslog-ng-ose-guide-admin" targetptr="source-default-network-drivers"></a>.</p>
                </li>
            </ul>
        </div>
        <div>
            <h6>Deprecated features</h6>
            <p>The elasticsearch() destination has been deprecated, because it supports only ElasticSearch version 1.x, which has been End-of-Life since January, 2017. Use the elasticsearch2() destination instead.</p>
        </div>
    </body>
</html>
