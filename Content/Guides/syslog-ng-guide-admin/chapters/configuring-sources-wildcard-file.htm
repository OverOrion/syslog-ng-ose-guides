<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="configuring-sources-wildcard-file" oldrole="section">
        <h1 name="configuring-sources-wildcard-file"><span class="Code" oldrole="parameter">wildcard-file</span>: Collecting messages from multiple text files</h1>
        <MadCap:keyword term="source drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;file()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <MadCap:keyword term="source drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;wildcard-file()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <p oldrole="para">The <span class="Code" oldrole="parameter">wildcard-file()</span> source collects log messages from multiple plain-text files from multiple directories. The <span class="Code" oldrole="parameter">wildcard-file()</span> source is available in <MadCap:variable name="General.abbrev"></MadCap:variable> version <MadCap:conditionaltext MadCap:conditions="General.ose">3.10</MadCap:conditionaltext><MadCap:conditionaltext MadCap:conditions="General.pe">7.0.3</MadCap:conditionaltext> and later.</p>
        <p oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application notices if a file is renamed or replaced with a new file, so it can correctly follow the file even if logrotation is used. When <MadCap:variable name="General.abbrev"></MadCap:variable> is restarted, it records the position of the last sent log message in the <span class="Code" oldrole="filename">/opt/syslog-ng/var/syslog-ng.persist</span> file, and continues to send messages from this position after the restart.</p>
        <h6 oldrole="formalpara">Declaration:</h6><pre class="Code" oldrole="synopsis">wildcard-file(
    base-dir("&lt;pathname&gt;")
    filename-pattern("&lt;filename&gt;")
);</pre>
        <p oldrole="para">Note the following important points:</p>
        <ul oldrole="itemizedlist">
            <li oldrole="listitem">
                <p oldrole="para">You can use the <span class="Code" oldrole="userinput">*</span> and <span class="Code" oldrole="userinput">?</span> wildcard characters in the filename (the <span class="Code" oldrole="parameter">filename-pattern()</span> option), but not in the path (the <span class="Code" oldrole="parameter">base-dir()</span> option).</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">When using the <span class="Code" oldrole="parameter">wildcard-file()</span> source, always set how often <MadCap:variable name="General.abbrev"></MadCap:variable> should check the files for new messages using the <span class="Code" oldrole="parameter">follow-freq()</span> parameter.</p>
            </li>
            <li oldrole="listitem">
                <MadCap:snippetBlock src="../../shared/wnt/warning-wildcard-overlapping-files.htm">
                </MadCap:snippetBlock>
            </li>
            <li oldrole="listitem">
                <MadCap:snippetBlock src="../../shared/chunk/para-wildcard-file-source-max-files.htm">
                </MadCap:snippetBlock>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">If the message does not have a proper syslog header, <MadCap:variable name="General.abbrev"></MadCap:variable> treats messages received from files as sent by the <span class="Code" oldrole="parameter">kern</span> facility. Use the <span class="Code" oldrole="parameter">default-facility()</span> and <span class="Code" oldrole="parameter">default-priority()</span> options in the source definition to assign a different facility if needed.</p>
            </li>
        </ul>
        <p oldrole="para">Required parameters: <span class="Code" oldrole="parameter">base-dir()</span>, <span class="Code" oldrole="parameter">filename-pattern()</span>. For the list of available optional parameters, see <MadCap:xref href="reference-source-wildcard-file.htm"><span style="color: #04aada;" class="mcFormatColor">wildcard-file() source options</span></MadCap:xref>.</p>
        <div class="Example">
            <h6 oldrole="example">Example: Using the wildcard-file() driver</h6>
            <p oldrole="para">The following example monitors every file with the <span class="Code" oldrole="filename">.log</span> extension in the <span class="Code" oldrole="filename">/var/log</span> directory for log messages.</p>
        </div>
    </body>
</html>