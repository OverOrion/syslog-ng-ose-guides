<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="" />
    </head>
    <body name="flow-control-normal-disk-buffering-no-altp">
        <h1 name="flow-control-normal-disk-buffering-no-altp">Flow control, reliable disk buffering, no <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /></h1>
        <h6>How it works:</h6>
        <p>syslog-ng puts messages into the disk buffer, until disk-buffer size reaches <span class="Code">disk-buf-size()</span>. Above that size, flow control is triggered. <MadCap:variable name="General.abbrev" /> completely stops reading incoming messages from the source, making the control window (governed by <span class="Code">log_iw_size()</span>) fill up and blocking the sources.</p>
        <p>In this configuration, log messages are stored on the disk (and not in the memory), which increases reliability.</p>
        <p class="CaptionFigure" MadCap:autonum="Figure 1: ">Flow control, reliable disk buffering, no <MadCap:variable name="syslogngPEVariables.RLTPUppercase" /></p>
        <p>
            <img src="../../Resources/Images_Notlocalized/syslog-ng-pe-guide-admin/flow-control-reliable-disk-buffering-no-altp.png" />
        </p>
        <MadCap:snippetBlock src="how-to-set-key-params-reliable-diskbuffer.flsnp" />
        <h6>Benefits:</h6>
        <p>This configuration minimizes the loss of log messages in the following situations:</p>
        <ul>
            <li><i>Unreachable destination server(s)</i>: Only as many incoming log messages are read as can be "delivered". When flow control is used in combination with disk buffering, those messages are considered delivered that have been written to the disk buffer. As soon as the disk buffer is full, <MadCap:variable name="General.abbrev" /> stops reading messages. This means that no log messages get lost.</li>
            <MadCap:snippetBlock src="reliability-message-loss-outside-syslog-ng.flsnp" />
            <MadCap:snippetBlock src="reliability-message-loss-syslog-ng-restart-reliable-db.flsnp" />
            <MadCap:snippetBlock src="reliability-unable-to-operate-normally-reliable-diskbuffer.flsnp" />
        </ul>
        <h6>Drawbacks:</h6>
        <p>One drawback of using reliable disk buffering is that the processing of log messages by <MadCap:variable name="General.abbrev" /> is slower than when messages are stored in the output buffer only, or when using normal disk buffering.</p>
        <p>This configuration does not provide protection against the loss of log messages in the following situations:</p>
        <ul>
            <MadCap:snippetBlock src="reliability-tcp-error.flsnp" />
        </ul>
    </body>
</html>