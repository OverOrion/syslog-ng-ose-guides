<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="destination-kafka-c-interaction">
        <h1 name="destination-kafka-c-interaction">How <MadCap:variable name="General.abbrev"></MadCap:variable> interacts with Apache Kafka</h1>
        <p>When stopping the <MadCap:variable name="General.abbrev"></MadCap:variable> application, <MadCap:variable name="General.abbrev"></MadCap:variable> will not stop until all Java threads are finished, including the threads started by the Kafka Producer. There is no way (except for the <span class="Code" oldrole="command">kill -9</span> command) to stop <MadCap:variable name="General.abbrev"></MadCap:variable> before the Kafka Producer stops. To change this behavior set the properties of the Kafka Producer in its properties file, and reference the file in the <span class="Code" oldrole="parameter">properties-file</span> option.</p>
        <p>The <MadCap:variable name="General.abbrev"></MadCap:variable> <span class="Code" oldrole="parameter">kafka</span> destination tries to reconnect to the brokers in a tight loop. This can look as spinning, because of a lot of similar debug messages. To decrease the amount of such messages, set a bigger timeout using the following properties:</p><pre>retry.backoff.ms=1000
reconnect.backoff.ms=1000</pre>
        <p>For details on using property files, see <MadCap:xref href="reference-destination-kafka.htm#kafka-option-properties-file"><span style="color: #04aada;" class="mcFormatColor">properties-file()</span></MadCap:xref>. For details on the properties that you can set in the property file, see the <a href="http://kafka.apache.org/documentation.html#newproducerconfigs">Apache Kafka documentation</a>.</p>
    </body>
</html>