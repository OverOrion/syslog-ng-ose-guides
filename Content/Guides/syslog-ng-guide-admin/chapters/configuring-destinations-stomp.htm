<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body MadCap:conditions="General.ose" name="configuring-destinations-stomp" oldrole="section">
        <h1 MadCap:conditions="General.ose" name="configuring-destinations-stomp"><span class="Code" oldrole="parameter">stomp</span>: Publishing messages using STOMP</h1>
        <MadCap:keyword term="destination drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;stomp()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <p>The <span class="Code" oldrole="parameter">stomp()</span> driver sends messages to servers (message brokers) using the <a href="http://stomp.github.io/">Simple (or Streaming) Text Oriented Message Protocol (STOMP)</a>, formerly known as TTMP. <MadCap:variable name="General.abbrev"></MadCap:variable> supports version 1.0 of the STOMP protocol. The <MadCap:variable name="General.abbrev"></MadCap:variable> <span class="Code" oldrole="parameter">stomp()</span> driver supports persistence.</p>
        <p>The name-value pairs selected with the <span class="Code" oldrole="parameter">value-pairs()</span> option will be sent as STOMP headers, while the body of the STOMP message is empty by default (but you can add custom content using the <span class="Code" oldrole="parameter">body()</span> option). Publishing the name-value pairs as headers makes it possible to use the Headers exchange-type and subscribe only to interesting log streams. This solution is more flexible than using the <span class="Code" oldrole="parameter">routing-key()</span> option.</p>
        <p>For the list of available parameters, see <MadCap:xref href="destination-stomp.htm#reference-destination-stomp"></MadCap:xref>.</p>
        <h6 oldrole="formalpara">Declaration:</h6><pre class="Code" oldrole="synopsis">stomp( host("&lt;stomp-server-address&gt;") );</pre>
        <div class="Example">
            <h6 name="example-using-stomp" oldrole="example"><a name="example-using-stomp"></a>Example: Using the stomp() driver</h6>
            <p>The following example shows the default values of the available options.</p><pre class="Code" oldrole="synopsis">destination d_stomp {
    stomp(
        host("localhost")
        port(61613)
        destination("/topic/syslog")
        routing-key("")      # optional, empty by default
        body("")             # optional, empty by default
        persistent(yes)
        ack(no)
        username("user")     # optional, empty by default
        password("password") # optional, empty by default
        value-pairs(scope(selected-macros, nv-pairs, sdata))
    );
};</pre>
        </div>
    </body>
</html>