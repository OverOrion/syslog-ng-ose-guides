<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="" />
    </head>
    <body name="destination-mqtt-options">
        <h1 name="destination-mqtt-options">Options of the mqtt() destination</h1>
        <p>The <span class="Code">mqtt()</span> destination has the following options.</p>
        <p>Required options: <span class="Code">address()</span>, <span class="Code">fallback-topic()</span>, and <span class="Code">topic()</span>.</p>
        <div>
            <h6 name="option-mqtt-address"><a name="option-mqtt-address"></a>address()</h6>
            <MadCap:snippetBlock src="../shared/chunk/option-mqtt-address.flsnp" />
            <p>Supported protocol types: <span class="Code">TCP</span>, <span class="Code">WS</span>, <span class="Code">SSL</span> and<span class="Code">WSS</span>.</p>
        </div>
        <MadCap:snippetBlock src="../shared/chunk/option-mqtt-client-id.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-mqtt-cleansession.flsnp">
        </MadCap:snippetBlock>
        <div>
            <h6 name="option-mqtt-fallback-topic"><a name="option-mqtt-fallback-topic"></a>fallback-topic()</h6>
            <table cellspacing="0" class="TableStyle-RuledTableWithHeading_DoNotEdit" colsep="0" rowsep="0" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
                <tbody>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">Type:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">string</td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyB-Column1-Body1">Default:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyA-Column1-Body1">N/A</td>
                    </tr>
                </tbody>
                <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
                </col>
            </table>
            <p><i style="font-style: normal;">Description:</i> Required option when using templates in the <span class="Code">topic()</span> option. </p>
            <p>If the resolved <span class="Code">topic()</span> template is not a valid topic, <MadCap:variable name="General.abbrev" /> will use the <span class="Code">fallback-topic()</span> option to send messages.</p>
            <div class="Note">
                <p class="Hyphenation"><span class="AllNoteStyles">NOTE:</span> If instead of strings, you use actual templates  (that is, a macro like <span class="Code">${MESSAGE}</span>, or a template function like <span class="Code">$(format-json)</span>) in the <span class="Code">topic()</span> option, configuring the <span class="Code">fallback-topic()</span> option is required.</p>
            </div>
            <div class="Note">
                <p class="Hyphenation"><span class="AllNoteStyles">TIP:</span> Occasionally, the reason why <MadCap:variable name="General.abbrev" /> cannot post messages to the configured <span class="Code">topic()</span> is that the topic contains invalid characters  that originate from templates.</p>
            </div>
        </div>
        <MadCap:snippetBlock src="../shared/chunk/option-mqtt-http-proxy.flsnp">
        </MadCap:snippetBlock>
        <div><a name="option-mqtt-keep-alive"></a>
            <MadCap:snippetBlock src="../shared/chunk/option-destination-keep-alive-mqtt.flsnp">
            </MadCap:snippetBlock>
        </div>
        <MadCap:snippetBlock src="../shared/chunk/option-mqtt-password.flsnp">
        </MadCap:snippetBlock>
        <div>
            <h6 name="option-mqtt-qos"><a name="option-mqtt-qos"></a>qos()</h6>
            <table cellspacing="0" class="TableStyle-RuledTableWithHeading_DoNotEdit" colsep="0" rowsep="0" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
                <tbody>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">Type:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">number</td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">Default:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1"><span class="Code">0</span>
                        </td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyB-Column1-Body1">
                            <p class="TableHyphen">Possible values: </p>
                        </td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyA-Column1-Body1">
                            <p><span class="Code">0</span> - at most once (the fastest option)</p>
                            <p><span class="Code">1</span> - at least once (a much slower option than <span class="Code">0</span>)</p>
                            <p><span class="Code">2</span> - exactly once (the slowest option)</p>
                        </td>
                    </tr>
                </tbody>
                <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;" />
            </table>
            <p><i style="font-style: normal;">Description:</i> The <a href="https://www.hivemq.com/blog/mqtt-essentials-part-6-mqtt-quality-of-service-levels/">Quality of Service (QoS) level</a> in MQTT messaging is an agreement between sender and receiver on the guarantee of delivering a message.</p>
        </div>
        <div><a name="option-mqtt-template"></a>
            <MadCap:snippetBlock src="../shared/chunk/option-destination-mqtt-template.flsnp">
            </MadCap:snippetBlock>
        </div>
        <div>
            <MadCap:snippetBlock src="../shared/chunk/option-tls.htm">
            </MadCap:snippetBlock>
            <MadCap:snippetBlock src="../shared/chunk/option-tls-mqtt.flsnp" />
        </div>
        <div>
            <h6 name="option-mqtt-topic"><a name="option-mqtt-topic"></a>topic()</h6>
            <table cellspacing="0" class="TableStyle-RuledTableWithHeading_DoNotEdit" colsep="0" rowsep="0" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
                <tbody>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">Type:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">string or template</td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyB-Column1-Body1">Default:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyA-Column1-Body1">N/A</td>
                    </tr>
                </tbody>
                <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;" />
            </table>
            <p><i style="font-style: normal;">Description:</i> Required option. Specifies the MQTT topic.</p>
            <div class="Note">
                <p class="Hyphenation"><span class="AllNoteStyles">NOTE:</span> The current implementation of the <span class="Code">mqtt()</span> destination does not support using the following characters for topic names:</p>
                <ul>
                    <li>
                        <p><span class="Code">$</span>
                        </p>
                    </li>
                    <li>
                        <p><span class="Code">+</span>
                        </p>
                    </li>
                    <li>
                        <p><span class="Code">#</span>
                        </p>
                    </li>
                </ul>
            </div>
        </div>
        <MadCap:snippetBlock src="../shared/chunk/option-mqtt-username.flsnp">
        </MadCap:snippetBlock>
    </body>
</html>