<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Resources/TableStyles/NoteTable_Yellow_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="" />
    </head>
    <body name="reference-destination-mongodb">
        <h1 name="reference-destination-mongodb"><a name="reference-destination-mongodb"></a>mongodb() destination options</h1>
        <MadCap:keyword term="destination drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;mongodb()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <p>The <span class="Code">mongodb()</span> driver sends messages to a MongoDB database. MongoDB is a schema-free, document-oriented database.</p>
        <p>The <span class="Code">mongodb()</span> destination has the following options:</p>
        <div>
            <h6 name="mongodb-option-collection"><a name="mongodb-option-collection"></a>collection()</h6>
            <MadCap:keyword term="collection()">
            </MadCap:keyword>
            <table cellspacing="0" class="TableStyle-RuledTableWithHeading_DoNotEdit" colsep="0" rowsep="0" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
                <tbody>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">Type:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">template</td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyB-Column1-Body1">Default:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyA-Column1-Body1">messages</td>
                    </tr>
                </tbody>
                <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
                </col>
            </table>
            <p><i style="font-style: normal;">Description:</i> The name of the MongoDB collection where the log messages are stored (collections are similar to SQL tables). You can use templates to change the collection dynamically based on the source or the content of the message, for example, collection("${HOST}").</p>
            <table cellspacing="0" class="TableStyle-NoteTable_Yellow_DoNotEdit" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/NoteTable_Yellow_DoNotEdit.css');">
                <col class="TableStyle-NoteTable_Yellow_DoNotEdit-Column-Column1" style="width: 0.3in;">
                </col>
                <col class="TableStyle-NoteTable_Yellow_DoNotEdit-Column-Column2">
                </col>
                <tbody>
                    <tr class="TableStyle-NoteTable_Yellow_DoNotEdit-Body-Body1">
                        <td class="TableStyle-NoteTable_Yellow_DoNotEdit-BodyB-Column1-Body1">
                            <p>
                                <img src="../../Resources/Images/Common/caution.png" />
                            </p>
                        </td>
                        <td class="TableStyle-NoteTable_Yellow_DoNotEdit-BodyA-Column2-Body1"><span class="Yellow">Caution: </span>
                            <p>Hazard of data loss! The <MadCap:variable name="General.abbrev"></MadCap:variable> application does not verify that the specified collection name does not contain invalid characters. If you specify a collection with an invalid name, the log messages sent to the MongoDB database will be irrevocably lost without any warning.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-diskbuffer.htm">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-batch-bytes.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-batch-lines.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-batch-timeout.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-frac-digits.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-hook.htm">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-local-timezone.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-log-fifo-size.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-on-error.flsnp">
        </MadCap:snippetBlock>
        <div>
            <MadCap:snippetBlock src="../shared/chunk/option-destination-retries.flsnp">
            </MadCap:snippetBlock>
            <p>For MongoDB operations, <MadCap:variable name="General.abbrev"></MadCap:variable> uses a one-minute timeout: if an operation times out, <MadCap:variable name="General.abbrev"></MadCap:variable> assumes the operation has failed.</p>
        </div>
        <MadCap:snippetBlock src="../shared/chunk/option-source-time-reopen.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/chunk/option-destination-throttle.flsnp">
        </MadCap:snippetBlock>
        <div>
            <h6 name="mongodb-option-uri"><a name="mongodb-option-uri"></a>uri()</h6>
            <MadCap:keyword term="uri()">
            </MadCap:keyword>
            <table cellspacing="0" class="TableStyle-RuledTableWithHeading_DoNotEdit" colsep="0" rowsep="0" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
                <tbody>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">Type:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">string</td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyB-Column1-Body1">Default:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyA-Column1-Body1">mongodb://127.0.0.1:27017/syslog?wtimeoutMS=60000&amp;socketTimeoutMS=60000&amp;connectTimeoutMS=60000</td>
                    </tr>
                </tbody>
                <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
                </col>
            </table>
            <p><i style="font-style: normal;">Description:</i> Available in syslog-ng OSE 3.8 and later. Please refer to the <a href="https://docs.mongodb.com/manual/reference/connection-string/">MongoDB URI format documentation</a> for detailed syntax.</p>
        </div>
        <MadCap:snippetBlock src="../shared/chunk/destination-option-value-pairs-content.flsnp">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../shared/wnt/note-typehinting.htm">
        </MadCap:snippetBlock>
        <div>
            <h6>workers()</h6>
            <MadCap:keyword term="workers()" />
            <MadCap:keyword term="batch mode" />
            <table cellspacing="0" class="TableStyle-RuledTableWithHeading_DoNotEdit" colsep="0" rowsep="0" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
                <tbody>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyE-Column1-Body1">Type:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyD-Column1-Body1">integer</td>
                    </tr>
                    <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyB-Column1-Body1">Default:</td>
                        <td class="TableStyle-RuledTableWithHeading_DoNotEdit-BodyA-Column1-Body1">1
                        </td>
                    </tr>
                </tbody>
                <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;" />
            </table>
            <div>
                <p><i style="font-style: normal;">Description:</i> Specifies the number of worker threads (at least 1) that <MadCap:variable name="General.abbrev" /> uses to send messages to the server. Increasing the number of worker threads can drastically improve the performance of the destination.</p>
                <MadCap:snippetBlock src="../shared/wnt/warning-diskbuffer-workers.htm" />
            </div>
        </div>
    </body>
</html>