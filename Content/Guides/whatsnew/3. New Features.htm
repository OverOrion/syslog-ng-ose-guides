<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="syslog-ng_whatsnew">
        <h1 name="syslog-ng_whatsnew">New features in <MadCap:variable name="General.product"></MadCap:variable> version <MadCap:variable name="Version.version"></MadCap:variable></h1>
        <p>This section lists the most recent changes of <MadCap:variable name="General.product" /> (<MadCap:variable name="General.abbrev" />).</p>
        <ul>
            <li>
                <p><b>New source: mqtt()</b>
                </p>
                <p>You can use the <span class="Code">mqtt()</span> source to fetch messages from MQTT brokers.</p>
            </li>
            <li>
                <p><b>New destination: discord()</b>
                </p>
                <p>The <span class="Code">discord()</span> destination driver sends messages to <a href="https://discord.com/">Discord</a> using <a href="https://discord.com/developers/docs/resources/webhook">Discord Webhook</a>.</p>
            </li>
            <li>
                <p><b>New parser: fortigate-parser()</b>
                </p>
                <p>The Fortigate parser can parse the log messages of FortiGate/FortiOS (Fortigate Next-Generation Firewall (NGFW)). These messages do not completely comply with the syslog RFCs, making them difficult to parse. The <span class="Code">fortigate-parser()</span> of <MadCap:variable name="General.abbrev" /> solves this problem, and can separate these log messages to name-value pairs. For details on using value-pairs in syslog-ng OSE see Structuring macros, metadata, and other value-pairs. The parser can parse messages in the following format:</p>
            </li>
            <li>
                <p><b>New parser: regexp-parser()</b>
                </p>
                <p>The <MadCap:variable name="General.abbrev" /> application can parse fields from a message with the help of regular expressions. This can be also achieved with the <span class="Code">match()</span> filter, by setting the store-matches flag, but the <span class="Code">regexp-parser()</span> offers more flexibility, like multiple patterns and setting the prefix of the created name-value pairs.</p>
            </li>
            <li>
                <p><b>New filter: rate-limit()</b>
                </p>
                <p>Limits messages rate based on arbitrary keys in each message.</p>
            </li>
            <li>
                <p><b>New options for the kafka() destination C implementation</b>
                </p>
                <p>Options <span class="Code">batch-lines()</span> and <span class="Code">batch-timeout()</span> have been added.</p>
            </li>
            <li>
                <p><b>New options for the kafka() destination C implementation</b>
                </p>
                <p>Options <span class="Code">batch-lines()</span> and <span class="Code">batch-timeout()</span> have been added.</p>
            </li>
            <li>
                <p><b>New option value: transport("text-with-nuls")</b>
                </p>
                <p><span class="Code">text-with-nuls</span>: Allows embedded <b class="Code">NUL</b> characters in the message from a TCP source, that is, <MadCap:variable name="General.abbrev" /> will not delimiter the incoming messages on <b class="Code">NUL</b> characters, only on <b class="Code">newline</b> characters (contrary to <span class="Code">tcp</span> transport, which splits the incoming log on <b class="Code">newline</b> characters and <b class="Code">NUL</b> characters).</p>
            </li>
            <li>
                <p><b>New option for file() destination: symlink-as()</b>
                </p>
                <p>The configured file name will be used as a symbolic link to the last created file by file destination.</p>
            </li>
            <li>
                <p><b>New options for redis() destination driver</b>
                </p>
                <p>Added <span class="Code">workers()</span> and Match mode support to the Redis destination driver.</p>
            </li>
            <li>
                <p><b>New --remove-orphans option in syslog-ng-ctl stats</b>
                </p>
                <p>New option <span class="Code">--remove-orphans</span> has been added to the <span class="Code">stats</span> command.</p>
            </li>
            <li>
                <p><b>New options for the mongodb() destination</b>
                </p>
                <p>Options <span class="Code">collection()</span> and <span class="Code">workers()</span> have been added.</p>
            </li>
            <li>
                <p><b>disk-buffer() has been updated</b>
                </p>
                <p>New option: <span class="Code">truncate-size-ratio()</span>, and other changes.</p>
            </li>
            <li>
                <p><b>time-reopen() option on multiple drivers</b>
                </p>
                <p>The <span class="Code">time-reopen()</span> option was only configurable on the <span class="Code">global options{}</span> level. Now every driver, which utilizes it can configure it on the driver level.</p>
            </li>
            <li>
                <p><b>New flag(): no-rfc3164-fallback</b>
                </p>
                <p>This flag allows to attempt parsing RFC5424 first without an automatic fallback to RFC3164.</p>
            </li>
            <li>
                <p><b>New TLS option: keylog-file()</b>
                </p>
                <p>This option enables saving TLS secrets (decryption keys) for a given source or destination, which can be used to decrypt data with, for example, Wireshark. The given path and name of a file will be used to save these secrets.</p>
            </li>
            <li>
                <p><b>Other enhancements</b>
                </p>
                <ul>
                    <li>
                        <p>Monitoring - Metrics: message size and EPS.</p>
                    </li>
                    <li>
                        <p>Update the no-parse flag.</p>
                    </li>
                    <li>
                        <p>Added a note to the <span class="Code">disk-buffer()</span> <span class="Code">dir()</span> path.</p>
					</li>
					<li>
						<p>Added macOS and NetBSD to the <span class="Code">system()</span> source.</p>
					</li>
                </ul>
            </li>
        </ul>
    </body>
</html>