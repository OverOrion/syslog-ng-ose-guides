<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="simplesect-pem" oldrole="simplesect"><title>PEM routines:PEM_read_bio:no start line</title>
        <MadCap:keyword term="troubleshooting:['PEM routines:PEM_read_bio:no start line']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Error message: 

                    </td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1"><pre class="Code" oldrole="synopsis">testuser@thor-x1:~/cert_no_start_line/certs$ openssl x509 -in cert.pem -text
unable to load certificate
140178126276248:error:0906D06C:PEM routines:PEM_read_bio:no start 
line:pem_lib.c:701:Expecting: TRUSTED CERTIFICATE</pre>
                    </td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Description: 

                    </td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <p oldrole="para">The error message is displayed when using Transport Layer Security (TLS). The syslog-ng application uses OpenSSL for TLS and this message indicates that the certificate contains characters that OpenSSL cannot process.</p>
                        <p oldrole="para">The error occurs when the certificate comes from Windows and you want to use it on a Linux-based computer. On Windows, the end of line (EOL) character is different (\r\n) compared to Linux (\n).</p>
                        <p oldrole="para">To verify this, open the certificate in a text editor, for example, MCEdit. Notice the<code>^M</code>characters as shown in the image below:</p>
                        <p oldrole="para">
                            <p class="CaptionFigure">Example of OpenSSL character processing error</p>
                            <img class="Image" contentwidth="&lt;entity&gt;screenshotsize&lt;/entity&gt;" fileref="&lt;entity&gt;imgroot&lt;/entity&gt;/wrong_linex.png" format="PNG" MadCap:mediastyle="@media print { width: auto; height: auto; }" oldrole="figure" src="wrong_linex.png" style="height: auto; width: auto;" />
                        </p>
                    </td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Solution: 

                    </td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                        <ul oldrole="itemizedlist">
                            <li oldrole="listitem">
                                <p oldrole="para">On Windows, save the certificate using UTF-8, for example, using Notepad++.</p>
                                <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
                                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
                                    </col>
                                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
                                    </col>
                                    <tbody>
                                        <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                                                <p>
                                                    <img src="../../Resources/Images/Common/note.png" />
                                                </p>
                                            </td>
                                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                                                <p oldrole="para">Windows Notepad is not able to save the file in normal UTF-8, even if you select it.</p>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <ol oldrole="orderedlist">
                                    <li oldrole="listitem">
                                        <p oldrole="para">In Notepad++, from the menu, select<b class="UI" oldrole="guibutton">Encoding</b>.</p>
                                    </li>
                                    <li oldrole="listitem">
                                        <p oldrole="para">Change the value from<b class="UI" oldrole="guibutton">UTF-8-BOM</b>to<b class="UI" oldrole="guibutton">UTF-8</b>.</p>
                                    </li>
                                    <li oldrole="listitem">
                                        <p oldrole="para">Save.</p>
                                    </li>
                                </ol>
                            </li>
                            <li oldrole="listitem">
                                <p oldrole="para">On Linux, run dos2unix cert.pem. This will convert the file to a Linux-compatible style.</p>
                                <p oldrole="para">Alternatively, replace the EOL characters in the file manually.</p>
                            </li>
                        </ul>
                    </td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
    </body>
</html>