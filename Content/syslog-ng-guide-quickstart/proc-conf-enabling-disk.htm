
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><body name="proc-conf-enabling-disk" oldrole="procedure">
<h1 name="proc-conf-enabling-disk" xmlns="http://docbook.org/ns/docbook">Enabling disk buffer on the <MadCap:variable name="General.abbrev"></MadCap:variable> client on Linux</h1>
<h6 oldrole="formalpara">Purpose:</h6>

<p oldrole="para">The Premium Edition of syslog-ng can store messages on the local hard disk if the central log server or the network connection to the server becomes unavailable. This feature is called the disk buffer and needs to be configured only on the client side.</p>
<table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');"><col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;"></col><col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2"></col><tbody><tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1"><td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1"><p><img src="../Resources/Images/Common/note.png"/></p></td><td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span><p oldrole="para">The log messages on Windows come from files â either eventlog containers or custom log files â which are already stored on the hard disk, so the agent does not use additional disk buffering.</p></td></tr></tbody></table>
<p oldrole="para">To enable disk buffering on the <MadCap:variable name="General.abbrev"></MadCap:variable> client on Linux, modify its configuration:</p>
<h6 oldrole="formalpara">Steps:</h6>

<ol oldrole="procedure"><li oldrole="step">
<p oldrole="para">Open the <span class="Code" oldrole="filename">/opt/syslog-ng/etc/syslog-ng.conf</span> configuration file in a text editor.</p>
</li><li oldrole="step">
<p oldrole="para">Locate the line starting with <b oldrole="command">destination d_logserver</b>.</p>
</li><li oldrole="step">
<p oldrole="para">Modify it to look like the following line:</p>
<pre class="Code" oldrole="synopsis">destination d_logserver {
    tcp("&lt;PEServerIP&gt;" disk-buffer(disk-buf-size(2000000)));
};</pre>
<p oldrole="para">Replace <span class="Code" oldrole="parameter">&lt;PEServerIP&gt;</span> with the hostname or IP address of the &amp;abbrev; server.</p>
<p oldrole="para">For additional disk buffer options, refer to <a href="https://support.oneidentity.com/technical-documents/one-identity-psm/syslog-ng-pe-guide-admin/reference-destination-network-chapter" oldrole="olink"></a>.</p>
</li><li oldrole="step">
<p oldrole="para">Save the configuration and restart syslog-ng.</p>
</li></ol></body></html>
