<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter SYSTEM "../../xml-stylesheet/pdf/dtd/docbookx.dtd"
 [  
 <!ENTITY % entities SYSTEM "../syslog-ng-entities.ent">
 %entities;]> 
<chapter>
    <title/>

    <!--<section id="install_downloads">
        <title/>
        <para>Use the your username and password received together with your syslog-ng Premium
            Edition license to download the following binaries. Make sure to download the package
            specific for the processor architecture of the host.</para>
        <itemizedlist>
            <listitem>
                <para>The syslog-ng Premium Edition package
                        (<filename>syslog-ng-premium-edition_&lt;version&gt;</filename>)
                    from </para>
                <para>
                    <ulink
                        url="http://www.balabit.com/downloads/files/syslog-ng/binaries/premium-edition/pool/s/syslog-ng-premium-edition/"
                        >http://www.balabit.com/downloads/files/syslog-ng/binaries/premium-edition/pool/s/syslog-ng-premium-edition/</ulink>
                </para>
            </listitem>
            <listitem>
                <para>The <filename>libdbi8</filename> package from </para>
                <para>
                    <ulink
                        url="http://www.balabit.com/downloads/files/syslog-ng/binaries/premium-edition/pool/l/libdbi8/"
                        >http://www.balabit.com/downloads/files/syslog-ng/binaries/premium-edition/pool/l/libdbi8/</ulink>
                </para>
            </listitem>
            <listitem>
                <indexterm>
                    <primary>Microsoft SQL</primary>
                    <secondary>installing driver packages</secondary>
                </indexterm>
                <indexterm>
                    <primary>MSSQL</primary>
                    <secondary>installing driver packages</secondary>
                </indexterm>
                <indexterm>
                    <primary>MySQL</primary>
                    <secondary>installing driver packages</secondary>
                </indexterm>
                <indexterm>
                    <primary>PostgreSQL</primary>
                    <secondary>installing driver packages</secondary>
                </indexterm>
                <indexterm>
                    <primary>SQLite</primary>
                    <secondary>installing driver packages</secondary>
                </indexterm>
                <para>If you plan to use an SQL destination (including Oracle), download the package
                    corresponding to your database from</para>
                <para>
                    <ulink
                        url="http://www.balabit.com/downloads/files/syslog-ng/binaries/premium-edition/pool/l/libdbi8-drivers/"
                        >http://www.balabit.com/downloads/files/syslog-ng/binaries/premium-edition/pool/l/libdbi8-drivers/</ulink>
                </para>
                <para>If you plan to use a Microsoft SQL (MSSQL) destination, download the
                        <parameter>mssql</parameter> driver.</para>
            </listitem>
            <listitem>
                <indexterm>
                    <primary>Oracle SQL</primary>
                    <secondary>installing driver packages</secondary>
                </indexterm>
                <para>If you plan to use the Oracle destination, download the Oracle Instant Client
                    package corresponding to your platform from</para>
                <para>
                    <ulink
                        url="http://www.balabit.com/downloads/files/syslog-ng/binaries/premium-edition/pool/o/"
                        >http://www.balabit.com/downloads/files/syslog-ng/binaries/premium-edition/pool/o/</ulink>
                </para>
            </listitem>
        </itemizedlist>
    </section>
    <section id="install_oracle">
        <title/>
        <indexterm>
            <primary>Oracle</primary>
            <secondary>Instant Client</secondary>
        </indexterm>
        <para><emphasis>Optional step</emphasis>: If you use an Oracle database destination,
            complete the following steps:</para>
        <para>Download Oracle Instant Client Basic Package version <parameter>10.2.0.X</parameter>
            for your platform from <ulink
                url="http://www.oracle.com/technology/software/tech/oci/instantclient/index.html"
                >http://www.oracle.com/technology/software/tech/oci/instantclient/index.html</ulink>
            and unzip the package into a single directory (e.g.,
                <filename>/usr/local/oracle/instantclient_10_2</filename>). You need to register to
            access the package, but registration is free.</para>
        <note>
            <para>The syslog-ng application currently supports only Oracle Instant Client Basic
                Package version <parameter>10.2.0.X</parameter>. This does not mean that you have to
                use version 10 of the Oracle database, because the different versions of the Instant
                Client all support the same protocol. Multiple versions of the Oracle Instant Client
                can be run simultaneously if other applications running on your system require a
                different version.</para>
        </note>
        <indexterm>
            <primary>Oracle</primary>
            <secondary>environment settings</secondary>
        </indexterm>
        <indexterm>
            <primary>destinations</primary>
            <secondary>Oracle configuration</secondary>
        </indexterm>
        <para>Edit the <filename>/etc/init.d/syslog-ng</filename> file and add the following lines
            before the <parameter>case</parameter> block. Replace
                <parameter>/usr/local/oracle/instantclient_10_2</parameter> with the actual path of
            Oracle Instant Client version <parameter>10.2.0.3</parameter>.</para>
        <note>
            <para>On Solaris 8 and 9, you have to edit the <filename>/etc/init.d/syslog</filename>
                file.</para>
        </note>
        <synopsis>LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/oracle/instantclient_10_2
export LD_LIBRARY_PATH</synopsis>        
    </section>
    -->
    <section>
        <title/>
        <!-- Common sections for .run installing in client and server modes -->
        <procedure>
            <title/>
            <step id="installer_welcome">
                <para>Enable the executable attribute for the installer using the <command>chmod +x syslog-ng-&lt;edition&gt;-&lt;version&gt;-&lt;OS&gt;-&lt;platform&gt;.run</command>, then start the installer as root using the
                        <command>./syslog-ng-&lt;edition&gt;-&lt;version&gt;-&lt;OS&gt;-&lt;platform&gt;.run</command>
                    command. (Note that the exact name of the file depends on the operating system
                    and platform.) Wait until the package is uncompressed and the welcome screen
                    appears, then select <guibutton>Continue</guibutton>.</para>
                <figure>
                    <title>The welcome screen</title>
                    <mediaobject>
                        <imageobject role="html">
                            <imagedata format="PNG" align="center" fileref="installer_welcome.png"/>
                        </imageobject>
                        <imageobject role="fo">
                            <imagedata format="PNG" scale="30"
                                fileref="&imgroot;/installer_welcome.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
            </step>
            <step id="installer_eula">
                <para><emphasis>Accepting the EULA</emphasis>: You can install syslog-ng only if you
                    understand and accept the terms of the End-User License Agreement (EULA). The
                    full text of the EULA can be displayed during installation by selecting the
                        <guibutton>Show EULA</guibutton> option, and is also available in this guide
                    for convenience at <xref linkend="app_eula"/>. Select
                    <guibutton>Accept</guibutton> to accept the EULA and continue the installation. </para>
                <para>If you do not accept the terms of the EULA for some reason, select
                        <guibutton>Reject</guibutton> to cancel installing syslog-ng.</para>
            </step>
            <step id="installer_platform">
                <para><emphasis>Detecting platform and operating system</emphasis>: The installer
                    attempts to automatically detect your oprating system and platform. If the
                    displayed information is correct, select <guibutton>Yes</guibutton>. Otherwise
                    select <guibutton>Exit</guibutton> to abort the installation, and verify that
                    your platform is supported. See <xref linkend="supported_platforms"/> for a list
                    of supported platforms. If your platform is supported but not detected
                    correctly, contact your local distributor, reseller, or the BalaBit Support
                    Team. See <xref linkend="contact_and_support"/> for contact details.</para>
                <!-- FIXME mit csinaljon, ha rosszul erzekeli a telepito a platformot? -->
                <figure>
                    <title>Platform detection</title>
                    <mediaobject>
                        <imageobject role="html">
                            <imagedata format="PNG" align="center" fileref="installer_platform.png"
                            />
                        </imageobject>
                        <imageobject role="fo">
                            <imagedata format="PNG" scale="50"
                                fileref="&imgroot;/installer_platform.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
            </step>
            <step id="installer_upgrade">
                <para><emphasis>Upgrading</emphasis>: The syslog-ng installer can automatically
                    detect if you have previously installed a version of syslog-ng on your system.
                    To use the configuration file of this previous installation, select
                        <guibutton>Yes</guibutton>. To ignore the old configuration file and create
                    a new one, select <guibutton>No</guibutton>.</para>
                <para>Note that if you decide to use your existing configuration file, the installer
                    automatically checks it for syntax error and displays a list of warnings and
                    errors if it finds any problems.</para>
                <figure>
                    <title>Upgrading syslog-ng</title>
                    <mediaobject>
                        <imageobject role="html">
                            <imagedata format="PNG" align="center" fileref="installer_upgrade.png"/>
                        </imageobject>
                        <imageobject role="fo">
                            <imagedata format="PNG" scale="50"
                                fileref="&imgroot;/installer_upgrade.png"/>
                        </imageobject>
                    </mediaobject>
                </figure>
            </step>
            <step id="installer_config">
                <para><emphasis>Generating a new configuration file</emphasis>: The installer
                    displays some questions to generate a new configuration file.</para>
                <substeps>
                    <step>
                        <para><emphasis>Remote sources</emphasis>: Select <guibutton>Yes</guibutton>
                            to accept log messages from the network. TCP, UDP, and SYSLOG messages
                            on every interface will be automatically accepted.</para>
                        <figure>
                            <title>Accepting remote messages</title>
                            <mediaobject>
                                <imageobject role="html">
                                    <imagedata format="PNG" align="center"
                                        fileref="installer_remote_source.png"/>
                                </imageobject>
                                <imageobject role="fo">
                                    <imagedata format="PNG" scale="50"
                                        fileref="&imgroot;/installer_remote_source.png"/>
                                </imageobject>
                            </mediaobject>
                        </figure>
                    </step>
                    <step>
                        <para><emphasis>Remote destinations</emphasis>: Enter the IP address or
                            hostname of your logserver or relay and select
                            <guibutton>OK</guibutton>.</para>
                        <figure>
                            <title>Forwarding messages to the logserver</title>
                            <mediaobject>
                                <imageobject role="html">
                                    <imagedata format="PNG" align="center"
                                        fileref="installer_remote_destination.png"/>
                                </imageobject>
                                <imageobject role="fo">
                                    <imagedata format="PNG" scale="50"
                                        fileref="&imgroot;/installer_remote_destination.png"/>
                                </imageobject>
                            </mediaobject>
                        </figure>
                    </step>
                </substeps>
                <note>
                    <para>Accepting remote messages and forwarding them to a logserver means that
                        syslog-ng will start in relay mode. </para>
                </note>
            </step>
            <step id="installer_path">
                <para>After the installation is finished, add the
                    <filename>/opt/syslog-ng/bin</filename> and
                    <filename>/opt/syslog-ng/sbin</filename> directories to your search PATH
                    environment variable. That way you can use syslog-ng and its related tools
                    without having to specify the full pathname. Add the following line to your
                    shell profile: </para>
                <synopsis>PATH=/opt/syslog-ng/bin:$PATH </synopsis>
            </step>
        </procedure>
        <note id="initscript_logrotate">
            <para>The native logrotation tools do not send a SIGHUP to syslog-ng after rotating the
                log files, causing syslog-ng to write into files already rotated. To solve this
                problem, the syslog-ng init script links the
                <filename>/var/run/syslog.pid</filename> file to syslog-ng's pid. Also, on Linux,
                the <parameter>install.sh</parameter> script symlinks the initscript of the original
                syslog daemon to syslog-ng's initscript.</para>
        </note>

    </section>

</chapter>
